(function(e){function t(t){for(var i,r,s=t[0],c=t[1],l=t[2],u=0,f=[];u<s.length;u++)r=s[u],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&f.push(a[r][0]),a[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);d&&d(t);while(f.length)f.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],i=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(i=!1)}i&&(o.splice(t--,1),e=r(r.s=n[0]))}return e}var i={},a={index:0},o=[];function r(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var d=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0018":function(e,t,n){"use strict";n("a03b")},"002f":function(e,t,n){},"0884":function(e,t,n){},"0b83":function(e,t,n){},"0feb":function(e,t,n){},"14ff":function(e,t,n){},"155b":function(e,t,n){},"16af":function(e,t,n){},"18a2":function(e,t,n){"use strict";n("4cda")},"21e4":function(e,t,n){"use strict";n("e2d2")},"26c2":function(e,t,n){},2957:function(e,t,n){"use strict";n("d33f")},"2d72":function(e,t,n){"use strict";n("3d57")},"395f":function(e,t,n){},"3d57":function(e,t,n){},"3e56":function(e,t,n){},"4a2c":function(e,t,n){"use strict";n("155b")},"4cda":function(e,t,n){},"4d9b":function(e,t,n){"use strict";n("a837")},"4ed1":function(e,t,n){"use strict";n("d739")},"51ef":function(e,t,n){},"576a":function(e,t,n){},5855:function(e,t,n){},"5b45":function(e,t,n){},"5b6f":function(e,t,n){},"5bd4":function(e,t,n){"use strict";n("edaf")},"5c0b":function(e,t,n){"use strict";n("9c0c")},"6d99":function(e,t,n){},"6e16":function(e,t,n){"use strict";n("51ef")},7550:function(e,t){},7581:function(e,t,n){"use strict";n("0b83")},7982:function(e,t,n){"use strict";n("93a4")},"7d5e":function(e,t,n){"use strict";n("5b6f")},8047:function(e,t,n){},8464:function(e,t,n){"use strict";n("0884")},8604:function(e,t,n){"use strict";n("0feb")},"87d8":function(e,t,n){"use strict";n("f963")},"8abf":function(e,t,n){},"8dfc":function(e,t,n){"use strict";n("395f")},"8e99":function(e,t,n){"use strict";n("bc31")},"93a4":function(e,t,n){},"944d":function(e,t,n){"use strict";n("002f")},9508:function(e,t,n){"use strict";n("ff31")},"96f8":function(e,t,n){"use strict";n("8abf")},"97a0":function(e,t,n){"use strict";n("576a")},9942:function(e,t,n){"use strict";n("6d99")},"9c0c":function(e,t,n){},"9c3b":function(e,t,n){"use strict";n("3e56")},"9dbe":function(e,t,n){},a03b:function(e,t,n){},a1bd:function(e,t,n){},a1d3:function(e,t,n){},a586:function(e,t,n){"use strict";n("5b45")},a837:function(e,t,n){},a8c6:function(e,t,n){},ad2b:function(e,t,n){},b5d2:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"Widget"},[e._v("Widget: "+e._s(e.widgetConfig.name))])},a=[],o=n("d4ec"),r=n("262e"),s=n("2caf"),c=n("9ab4"),l=n("1b40"),d=function(e){Object(r["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return n}(l["g"]);Object(c["a"])([Object(l["d"])()],d.prototype,"widgetConfig",void 0),d=Object(c["a"])([l["a"]],d);var u=d,f=u,p=(n("87d8"),n("2877")),h=Object(p["a"])(f,i,a,!1,null,"48f060ba",null);t["a"]=h.exports},b71b:function(e,t,n){"use strict";n("d80e")},bc31:function(e,t,n){},bf5c:function(e,t,n){"use strict";n("9dbe")},c105:function(e,t,n){},c32c:function(e,t,n){"use strict";n("e7ae")},c59e:function(e,t,n){},c890:function(e,t,n){"use strict";n("e8e8")},c8d1:function(e,t,n){"use strict";n("a8c6")},caba:function(e,t,n){"use strict";n("26c2")},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i,a,o,r=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ApplicationEditor",{ref:"app",attrs:{id:"app"}})},c=[],l=n("1da1"),d=n("d4ec"),u=n("bee2"),f=n("262e"),p=n("2caf"),h=(n("96cf"),n("9ab4")),g=n("1b40"),b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ApplicationEditor",on:{wheel:function(e){if(!e.ctrlKey)return null;e.preventDefault(),e.stopPropagation()},contextmenu:function(e){e.preventDefault()}}},[n("ApplicationEditorHeader"),n("div",{staticClass:"body"},[n("div",{staticClass:"main-view"},[n("DragLayoutContext",{attrs:{layoutNode:e.layoutRootNode}},[n("ObjectEditorTabs",{ref:"objectEditorTabs",attrs:{name:"main"},on:{change:e.handelObjectEditorTabsChange}}),n("FileExplorer",{attrs:{name:"file-explorer"}}),n("Hierarchy",{attrs:{name:"hierarchy"}}),n("WidgetDefinition",{attrs:{name:"widget-definition"}}),n("Properties",{attrs:{name:"properties"}}),n("div",{attrs:{name:"test-4"}},[e._v("test-4")]),n("div",{attrs:{name:"test-5"}},[e._v("test-5")])],1)],1)]),n("ApplicationEditorMenu",{ref:"menu"})],1)},v=[],y=n("2909"),m=n("b85c"),j=(n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("b0c0"),n("99af"),n("159b"),n("53ca"));n("b64b"),n("3410"),n("a9e3"),n("fb6a"),n("13d5");(function(e){e[e["DISABLE"]=0]="DISABLE",e[e["ENABLE"]=1]="ENABLE",e[e["LOGGING"]=2]="LOGGING"})(i||(i={})),function(e){e[e["CASE_STRICT"]=1]="CASE_STRICT",e[e["CASE_INSENSITIVE"]=2]="CASE_INSENSITIVE"}(a||(a={})),function(e){e[e["ALLOW_NULL"]=1]="ALLOW_NULL",e[e["ALLOW_OBJECT_NULL"]=2]="ALLOW_OBJECT_NULL",e[e["DISALLOW_NULL"]=3]="DISALLOW_NULL"}(o||(o={}));var O=function e(){Object(d["a"])(this,e)};O.MAPPING_PROPERTY="__jsonconvert__mapping__",O.MAPPER_PROPERTY="__jsonconvert__mapper__",O.CLASS_IDENTIFIER="__jsonconvert__class_identifier__";var C=function e(){Object(d["a"])(this,e),this.classPropertyName="",this.jsonPropertyName="",this.expectedJsonType=void 0,this.isOptional=!1,this.customConverter=null,this.userData=null},w=function e(){Object(d["a"])(this,e)},k=function(){function e(t,n,r,s){Object(d["a"])(this,e),this._operationMode=i.ENABLE,this._valueCheckingMode=o.ALLOW_OBJECT_NULL,this._ignorePrimitiveChecks=!1,this._propertyMatchingRule=a.CASE_STRICT,this._ignoreRequiredCheck=!1,void 0!==t&&t in i&&(this.operationMode=t),void 0!==n&&n in o&&(this.valueCheckingMode=n),void 0!==r&&(this.ignorePrimitiveChecks=r),void 0!==s&&(this.propertyMatchingRule=s)}return Object(u["a"])(e,[{key:"operationMode",get:function(){return this._operationMode},set:function(e){e in i&&(this._operationMode=e)}},{key:"valueCheckingMode",get:function(){return this._valueCheckingMode},set:function(e){e in o&&(this._valueCheckingMode=e)}},{key:"ignorePrimitiveChecks",get:function(){return this._ignorePrimitiveChecks},set:function(e){this._ignorePrimitiveChecks=e}},{key:"propertyMatchingRule",get:function(){return this._propertyMatchingRule},set:function(e){e in a&&(this._propertyMatchingRule=e)}},{key:"ignoreRequiredCheck",get:function(){return this._ignoreRequiredCheck},set:function(e){this._ignoreRequiredCheck=e}},{key:"serialize",value:function(e,t){if(this.operationMode===i.DISABLE)return e;if(e instanceof Array)return this.serializeArray(e,t);if("object"===Object(j["a"])(e))return this.serializeObject(e,t);throw new Error("Fatal error in JsonConvert. Passed parameter data in JsonConvert.serialize() is not in valid format (object or array).\n")}},{key:"serializeObject",value:function(e,t){if(this.operationMode===i.DISABLE)return e;if(void 0===e)throw new Error("Fatal error in JsonConvert. Passed parameter instance in JsonConvert.serializeObject() is undefined. This is not a valid JSON format.\n");if(null===e){if(this.valueCheckingMode===o.DISALLOW_NULL)throw new Error("Fatal error in JsonConvert. Passed parameter instance in JsonConvert.serializeObject() is undefined. You have specified to disallow null values.\n");return e}if("object"!==Object(j["a"])(e)||e instanceof Array)throw new Error("Fatal error in JsonConvert. Passed parameter instance in JsonConvert.serializeObject() is not of type object.\n");this.operationMode===i.LOGGING&&(console.log("----------"),console.log("Receiving JavaScript instance:"),console.log(e));var n,a={};n=t?new t:e;for(var r=0,s=Object.keys(n);r<s.length;r++){var c=s[r];try{this.serializeObject_loopProperty(e,n,c,a)}catch(l){throw this.operationMode===i.LOGGING&&(console.log("Failed to serialize property:"),console.log(l),console.log("----------")),l}}return this.operationMode===i.LOGGING&&(console.log("Returning JSON object:"),console.log(a),console.log("----------")),a}},{key:"serializeArray",value:function(e,t){if(this.operationMode===i.DISABLE)return e;if(void 0===e)throw new Error("Fatal error in JsonConvert. Passed parameter instanceArray in JsonConvert.serializeArray() is undefined. This is not a valid JSON format.\n");if(null===e){if(this.valueCheckingMode===o.DISALLOW_NULL)throw new Error("Fatal error in JsonConvert. Passed parameter instanceArray in JsonConvert.serializeArray() is undefined. You have specified to disallow null values.\n");return e}if("object"!==Object(j["a"])(e)||e instanceof Array===!1)throw new Error("Fatal error in JsonConvert. Passed parameter instanceArray in JsonConvert.serializeArray() is not of type array.\n");this.operationMode===i.LOGGING&&(console.log("----------"),console.log("Receiving JavaScript array:"),console.log(e));var n,a=[],r=Object(m["a"])(e);try{for(r.s();!(n=r.n()).done;){var s=n.value;a.push(this.serializeObject(s,t))}}catch(c){r.e(c)}finally{r.f()}return this.operationMode===i.LOGGING&&(console.log("Returning JSON array:"),console.log(a),console.log("----------")),a}},{key:"deserialize",value:function(e,t){if(this.operationMode===i.DISABLE)return e;if(e instanceof Array)return this.deserializeArray(e,t);if("object"===Object(j["a"])(e))return this.deserializeObject(e,t);throw new Error("Fatal error in JsonConvert. Passed parameter json in JsonConvert.deserialize() is not in valid JSON format (object or array).\n")}},{key:"deserializeObject",value:function(e,t){if(this.operationMode===i.DISABLE)return e;if(void 0===e)throw new Error("Fatal error in JsonConvert. Passed parameter jsonObject in JsonConvert.deserializeObject() is undefined. This is not a valid JSON format.\n");if(null===e){if(this.valueCheckingMode===o.DISALLOW_NULL)throw new Error("Fatal error in JsonConvert. Passed parameter jsonObject in JsonConvert.deserializeObject() is undefined. You have specified to disallow null values.\n");return e}if("object"!==Object(j["a"])(e)||e instanceof Array)throw new Error("Fatal error in JsonConvert. Passed parameter jsonObject in JsonConvert.deserializeObject() is not of type object.\n");this.operationMode===i.LOGGING&&(console.log("----------"),console.log("Receiving JSON object:"),console.log(e));for(var n=new t,a=0,r=Object.keys(n);a<r.length;a++){var s=r[a];try{this.deserializeObject_loopProperty(n,s,e)}catch(c){throw this.operationMode===i.LOGGING&&(console.log("Failed to deserialize property:"),console.log(c),console.log("----------")),c}}return this.operationMode===i.LOGGING&&(console.log("Returning CLASS instance:"),console.log(n),console.log("----------")),n}},{key:"deserializeArray",value:function(e,t){if(this.operationMode===i.DISABLE)return e;if(void 0===e)throw new Error("Fatal error in JsonConvert. Passed parameter jsonArray in JsonConvert.deserializeObject() is undefined. This is not a valid JSON format.\n");if(null===e){if(this.valueCheckingMode===o.DISALLOW_NULL)throw new Error("Fatal error in JsonConvert. Passed parameter jsonArray in JsonConvert.deserializeObject() is undefined. You have specified to disallow null values.\n");return e}if("object"!==Object(j["a"])(e)||e instanceof Array===!1)throw new Error("Fatal error in JsonConvert. Passed parameter jsonArray in JsonConvert.deserializeArray() is not of type array.\n");if(this.operationMode===i.DISABLE)return e;this.operationMode===i.LOGGING&&(console.log("----------"),console.log("Receiving JSON array:"),console.log(e));var n,a=[],r=Object(m["a"])(e);try{for(r.s();!(n=r.n()).done;){var s=n.value;a.push(this.deserializeObject(s,t))}}catch(c){r.e(c)}finally{r.f()}return this.operationMode===i.LOGGING&&(console.log("Returning array of CLASS instances:"),console.log(a),console.log("----------")),a}},{key:"serializeObject_loopProperty",value:function(e,t,n,i){var a=this.getClassPropertyMappingOptions(t,n);if(null!==a){var o=a.jsonPropertyName,r=a.expectedJsonType,s=a.isOptional,c=a.customConverter,l=e[n];if("undefined"===typeof l){if(s||this._ignoreRequiredCheck)return;throw new Error('Fatal error in JsonConvert. Failed to map the JavaScript instance of class "'+t[O.CLASS_IDENTIFIER]+'" to JSON because the defined class property "'+n+'" does not exist or is not defined:\n\n\tClass property: \n\t\t'+n+"\n\n\tJSON property: \n\t\t"+o+"\n\n")}if(!s||null!==l)try{i[o]=null!==c?c.serialize(l):this.verifyProperty(r,l,!0)}catch(d){throw new Error('Fatal error in JsonConvert. Failed to map the JavaScript instance of class "'+t[O.CLASS_IDENTIFIER]+'" to JSON because of a type error.\n\n\tClass property: \n\t\t'+n+"\n\n\tClass property value: \n\t\t"+l+"\n\n\tExpected type: \n\t\t"+this.getExpectedType(r)+"\n\n\tRuntime type: \n\t\t"+this.getTrueType(l)+"\n\n\tJSON property: \n\t\t"+o+"\n\n"+d.message+"\n")}}}},{key:"deserializeObject_loopProperty",value:function(e,t,n){var i=this.getClassPropertyMappingOptions(e,t);if(null!==i){var a,o=i.jsonPropertyName,r=i.expectedJsonType,s=i.isOptional,c=i.customConverter;try{a=this.getObjectValue(n,o)}catch(l){}if("undefined"===typeof a){if(s||this._ignoreRequiredCheck)return;throw new Error('Fatal error in JsonConvert. Failed to map the JSON object to the class "'+e[O.CLASS_IDENTIFIER]+'" because the defined JSON property "'+o+'" does not exist:\n\n\tClass property: \n\t\t'+t+"\n\n\tJSON property: \n\t\t"+o+"\n\n")}if(!s||null!==a)try{e[t]=null!==c?c.deserialize(a):this.verifyProperty(r,a)}catch(d){throw new Error('Fatal error in JsonConvert. Failed to map the JSON object to the class "'+e[O.CLASS_IDENTIFIER]+'" because of a type error.\n\n\tClass property: \n\t\t'+t+"\n\n\tExpected type: \n\t\t"+this.getExpectedType(r)+"\n\n\tJSON property: \n\t\t"+o+"\n\n\tJSON type: \n\t\t"+this.getJsonType(a)+"\n\n\tJSON value: \n\t\t"+JSON.stringify(a)+"\n\n"+d.message+"\n")}}}},{key:"getClassPropertyMappingOptions",value:function(e,t){var n=e[O.MAPPING_PROPERTY];if("undefined"===typeof n)return null;var i=Object.getPrototypeOf(e);while(null!==i&&void 0!==i){var a=i[O.CLASS_IDENTIFIER];if(a){var o=a+"."+t;if("undefined"!==typeof n[o])return n[o]}i=Object.getPrototypeOf(i)}return null}},{key:"verifyProperty",value:function(e,t,n){if(e===w||null===e||e===Object)return t;if(e instanceof Array===!1&&t instanceof Array===!1){if("undefined"!==typeof e&&e.prototype.hasOwnProperty(O.CLASS_IDENTIFIER)){if(null===t){if(this.valueCheckingMode!==o.DISALLOW_NULL)return null;throw new Error("\tReason: Given value is null.")}return n?this.serializeObject(t,e):this.deserializeObject(t,e)}if(e===w||null===e||e===Object){if(null===t){if(this.valueCheckingMode!==o.DISALLOW_NULL)return null;throw new Error("\tReason: Given value is null.")}return t}if(e===String||e===Number||e===Boolean){if(null===t){if(this.valueCheckingMode===o.ALLOW_NULL)return null;throw new Error("\tReason: Given value is null.")}if(e===String&&"string"===typeof t||e===Number&&"number"===typeof t||e===Boolean&&"boolean"===typeof t)return t;if(this.ignorePrimitiveChecks)return t;throw new Error("\tReason: Given object does not match the expected primitive type.")}throw new Error("\tReason: Expected type is unknown. There might be multiple reasons for this:\n\t- You are missing the decorator @JsonObject (for object mapping)\n\t- You are missing the decorator @JsonConverter (for custom mapping) before your class definition\n\t- Your given class is undefined in the decorator because of circular dependencies")}if(e instanceof Array){if(null===t){if(this.valueCheckingMode!==o.DISALLOW_NULL)return null;throw new Error("\tReason: Given value is null.")}if(t instanceof Object){var i=[];if(0===t.length)return i;if(0===e.length)return t;var a=e.slice(0);if(t instanceof Array){for(var r=a.length<t.length,s=0;s<t.length;s++)r&&s>=a.length&&(a[s]=a[s-1]),i[s]=this.verifyProperty(a[s],t[s],n);return i}var c=a.length<Object.keys(t).length,l=0;for(var d in t)c&&l>=a.length&&(a[l]=a[l-1]),i[d]=this.verifyProperty(a[l],t[d]),l++;return i}throw new Error("\tReason: Expected type is array, but given value is primitive.")}if(t instanceof Array)throw new Error("\tReason: Given value is array, but expected a non-array type.");throw new Error("\tReason: Mapping failed because of an unknown error.")}},{key:"getObjectValue",value:function(e,t){if(this.propertyMatchingRule===a.CASE_INSENSITIVE){var n=Object.keys(e).reduce((function(e,t){return e[t.toLowerCase()]=t,e}),{});t=n[t.toLowerCase()]}if(t in e===!1)throw new Error;return e[t]}},{key:"getExpectedType",value:function(e){var t="";if(e instanceof Array){t="[";for(var n=0;n<e.length;n++)n>0&&(t+=","),t+=this.getExpectedType(e[n]);return t+="]",t}return e===w||null===e||e===Object?"any":e===String||e===Boolean||e===Number?(new e).constructor.name.toLowerCase():"function"===typeof e?(new e).constructor.name:void 0===e?"undefined":"?????"}},{key:"getJsonType",value:function(e){if(null===e)return"null";var t="";if(e instanceof Array){t="[";for(var n=0;n<e.length;n++)n>0&&(t+=","),t+=this.getJsonType(e[n]);return t+="]",t}return Object(j["a"])(e)}},{key:"getTrueType",value:function(e){return Object(j["a"])(e)}}]),e}(),x={type:"horizontal",children:[{type:"tabs",children:[{type:"tab",label:"文件",name:"file-explorer"},{type:"tab",label:"组件",name:"widget-definition"},{type:"tab",label:"层级",name:"hierarchy"}],basis:275},{type:"vertical",fluid:!0,fixed:!0,children:[{type:"main",name:"main",fluid:!0,fixed:!0}]},{type:"tabs",children:[{type:"tab",label:"属性",name:"properties"},{type:"tab",label:"数据",name:"test-4"},{type:"tab",label:"交互",name:"test-5"}],basis:275}]},E=(n("c740"),n("7db0"),n("b5d2")),_=function e(t){Object(d["a"])(this,e),this.group="",this.propsGroups=[],this.component=E["a"],this.tag=t.tag,this.displayName=t.displayName||"",this.isWidgetGroup=t.isWidgetGroup||!1,this.component=t.component||E["a"],this.autoSize=t.autoSize||!1,this.isBuildin=t.isBuildin||!1,this.isSystem=t.isSystem||!1,this.group=t.group||"",this.propsGroups=t.propsGroups||[]},I=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){var e;return Object(d["a"])(this,n),e=t.apply(this,arguments),e.widgetDefinitions=[],e.widgetDefinitionGroups=[],e}return Object(u["a"])(n,[{key:"isWidgetTag",value:function(e){return-1!==this.widgetDefinitions.findIndex((function(t){return t.tag===e}))}},{key:"getWidgetDefinitionBytag",value:function(e){return this.widgetDefinitions.find((function(t){return t.tag===e}))}},{key:"registerWidgetGroup",value:function(e,t){this.widgetDefinitionGroups.push({name:e,displayName:t})}},{key:"registerWidget",value:function(e){this.widgetDefinitions.push(new _(e))}},{key:"getWidgetComponent",value:function(e){var t;return null===(t=this.widgetDefinitions.find((function(t){return t.tag===e})))||void 0===t?void 0:t.component}}]),n}(g["g"]);I=Object(h["a"])([g["a"]],I);var S=I,N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ApplicationEditorHeader"},[n("span",{staticClass:"brand"},[n("font-awesome-icon",{staticClass:"brand-icon",attrs:{icon:["fas","meh-blank"]}})],1),n("span",{staticClass:"menubar"},[n("span",{staticClass:"menu-item"},[n("span",[e._v("项目(P)")]),n("div",{staticClass:"sub-menu"},[n("span",[e._v("新建")]),n("span",{on:{click:e.uploadFile}},[e._v("导入")]),n("span",[e._v("导出")]),n("span",{on:{click:e.openSettingEditor}},[e._v("设置")])])]),e._m(0),e._m(1),e._m(2),e._m(3)]),n("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"fileInput",attrs:{type:"file",accept:"application/x-zip-compressed"},on:{change:e.handleChange}})])},W=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"menu-item"},[n("span",[e._v("查看(V)")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"menu-item"},[n("span",[e._v("运行(R)")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"menu-item"},[n("span",[e._v("设置(R)")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"menu-item"},[n("span",[e._v(" 帮助(H)")])])}],T=n("3835"),D=(n("4fad"),n("8a79"),n("1276"),n("ac1f"),n("a15b"),n("ad3d")),P=n("c4e3"),L=n.n(P);n("7550"),n("4de4"),n("5319");function A(e){var t="",n=function(e){e.prototype[O.CLASS_IDENTIFIER]=t.length>0?t:e.name;var n=e.prototype[O.MAPPING_PROPERTY];if(n){var i,a=Object.keys(n).filter((function(e){return 0===e.indexOf("".concat(O.CLASS_IDENTIFIER,"."))})),o=Object(m["a"])(a);try{for(o.s();!(i=o.n()).done;){var r=i.value;n[r.replace(O.CLASS_IDENTIFIER,e.prototype[O.CLASS_IDENTIFIER])]=n[r],delete n[r]}}catch(s){o.e(s)}finally{o.f()}}},i=Object(j["a"])(e);switch(i){case"string":return t=e,n;case"function":case"undefined":default:throw new Error("Fatal error in JsonConvert. It is mandatory to pass a string as parameter in the @JsonObject decorator.\n\nUse @JsonObject(classId) where classId is a string.\n\n")}}function M(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){var i=n,a=w,o=!1,r=null;switch(t.length){case 1:if(void 0===t[0])throw new Error('Fatal error in JsonConvert. It is not allowed to explicitly pass "undefined" as first parameter in the @JsonProperty decorator.\n\n\tClass property: \n\t\t'+n+"\n\nLeave the decorator parameters empty if you do not wish to pass the first parameter.\n\n");i=t[0];break;case 2:if(void 0===t[0])throw new Error('Fatal error in JsonConvert. It is not allowed to explicitly pass "undefined" as first parameter in the @JsonProperty decorator.\n\n\tClass property: \n\t\t'+n+"\n\nLeave the decorator parameters empty if you do not wish to pass the first parameter.\n\n");if(void 0===t[1])throw new Error('Fatal error in JsonConvert. It is not allowed to explicitly pass "undefined" as second parameter in the @JsonProperty decorator.\n\n\tClass property: \n\t\t'+n+'\n\nUse "Any" to allow any type. You can import this class from "json2typescript".\n\n');i=t[0],a=t[1];break;case 3:if(void 0===t[0])throw new Error('Fatal error in JsonConvert. It is not allowed to explicitly pass "undefined" as first parameter in the @JsonProperty decorator.\n\n\tClass property: \n\t\t'+n+"\n\nLeave the decorator parameters empty if you do not wish to pass the first parameter.\n\n");if(void 0===t[1])throw new Error('Fatal error in JsonConvert. It is not allowed to explicitly pass "undefined" as second parameter in the @JsonProperty decorator.\n\n\tClass property: \n\t\t'+n+'\n\nUse "Any" to allow any type. You can import this class from "json2typescript".\n\n');i=t[0],a=t[1],o=t[2];break;case 4:if(void 0===t[0])throw new Error('Fatal error in JsonConvert. It is not allowed to explicitly pass "undefined" as first parameter in the @JsonProperty decorator.\n\n\tClass property: \n\t\t'+n+"\n\nLeave the decorator parameters empty if you do not wish to pass the first parameter.\n\n");if(void 0===t[1])throw new Error('Fatal error in JsonConvert. It is not allowed to explicitly pass "undefined" as second parameter in the @JsonProperty decorator.\n\n\tClass property: \n\t\t'+n+'\n\nUse "Any" to allow any type. You can import this class from "json2typescript".\n\n');i=t[0],a=t[1],o=t[2],r=t[3];break;default:break}"undefined"===typeof e[O.MAPPING_PROPERTY]&&(e[O.MAPPING_PROPERTY]=[]);var s=new C;if(s.classPropertyName=n,s.jsonPropertyName=i,s.isOptional=o||!1,s.userData=r,"undefined"!==typeof a&&null!==a&&"undefined"!==typeof a[O.MAPPER_PROPERTY]?s.customConverter=new a:s.expectedJsonType=a,"undefined"!==typeof e[O.MAPPING_PROPERTY][O.CLASS_IDENTIFIER+"."+n])throw new Error("Fatal error in JsonConvert. It is not allowed to add multiple decorators for the same property.\n\n\tClass property: \n\t\t"+n+"\n\n");e[O.MAPPING_PROPERTY][O.CLASS_IDENTIFIER+"."+n]=s}}var $=n("ec26");function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unspecified";return"".concat(e,":").concat(Object($["a"])())}var z=function e(){Object(d["a"])(this,e),this.name="newFile",this.content="",this.base64=""};Object(h["a"])([M("name",String,!0)],z.prototype,"name",void 0),Object(h["a"])([M("content",String,!0)],z.prototype,"content",void 0),Object(h["a"])([M("base64",String,!0)],z.prototype,"base64",void 0),z=Object(h["a"])([A("Directory")],z);var F,G=z,J=F=function e(){Object(d["a"])(this,e),this.name="/",this.directorys=[],this.files=[]};Object(h["a"])([M("name",String,!0)],J.prototype,"name",void 0),Object(h["a"])([M("directorys",[F],!0)],J.prototype,"directorys",void 0),Object(h["a"])([M("files",[G],!0)],J.prototype,"files",void 0),J=F=Object(h["a"])([A("Directory")],J);var B=J,H=function e(){Object(d["a"])(this,e),this.id=R("ApplicationConfig"),this.name="应用",this.rootDirectory=new B};Object(h["a"])([M("id",String,!0)],H.prototype,"id",void 0),Object(h["a"])([M("name",String,!0)],H.prototype,"name",void 0),Object(h["a"])([M("rootDirectory",B,!0)],H.prototype,"rootDirectory",void 0),H=Object(h["a"])([A("ProjectData")],H);var Y=H,q=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){return Object(d["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"uploadFile",value:function(){var e=this.$refs.fileInput;e.value="",e.click()}},{key:"handleChange",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n,i,a,o,r,s,c,l,d,u,f,p,h,g,b,v,y,j,O,C,w,k,x,E,_;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.target,!n.files||!n.files.length){e.next=53;break}return e.prev=2,i=new Y,a=n.files[0],e.next=7,L.a.loadAsync(a);case 7:o=e.sent,r=o.files,s={},c=Object(m["a"])(Object.entries(r).sort()),e.prev=11,c.s();case 13:if((l=c.n()).done){e.next=39;break}if(d=Object(T["a"])(l.value,2),u=d[0],f=d[1],!u.endsWith("/")){e.next=26;break}p=u.split("/"),h=new B,g=p[p.length-2],b=p.slice(0,-2).join("/"),v=b?b+"/"+g:g,h.name=p[p.length-2],s[v]=h,b?(y=s[b],y.directorys.push(h)):i.rootDirectory.directorys.push(h),e.next=37;break;case 26:return e.next=28,f.async("string");case 28:return j=e.sent,e.next=31,f.async("base64");case 31:O=e.sent,C=u.split("/"),w=new G,w.content=j,w.base64=O,C&&C.length>1?(console.log(C),k=C[C.length-1],x=C.slice(0,-1).join("/"),E=s[x],w.name=k,E.files.push(w)):(_=u,w.name=_,i.rootDirectory.files.push(w));case 37:e.next=13;break;case 39:e.next=44;break;case 41:e.prev=41,e.t0=e["catch"](11),c.e(e.t0);case 44:return e.prev=44,c.f(),e.finish(44);case 47:this.appEditor.openProject(i),e.next=53;break;case 50:e.prev=50,e.t1=e["catch"](2),console.log(e.t1);case 53:case"end":return e.stop()}}),e,this,[[2,50],[11,41,44,47]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"openSettingEditor",value:function(){this.appEditor.openSettingEditor()}}]),n}(g["g"]);Object(h["a"])([Object(g["b"])("app-editor")],q.prototype,"appEditor",void 0),q=Object(h["a"])([Object(g["a"])({name:"ApplicationEditorHeader",components:{FontAwesomeIcon:D["a"]}})],q);var V=q,X=V,U=(n("8464"),n("2877")),K=Object(U["a"])(X,N,W,!1,null,"674eb170",null),Z=K.exports,Q=(n("d81d"),{}),ee=r["default"].observable({vnodes:Q}),te=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){return Object(d["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"render",value:function(e){var t,n=this.$slots.default||[],i=Object(m["a"])(n);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.data=a.data||{},a.data.keepAlive=!0}}catch(o){i.e(o)}finally{i.f()}return this.$slots.default&&this.$slots.default.length&&g["g"].set(ee.vnodes,this.name,this.$slots.default[0]),e("div",{style:{display:"none"}},this.$slots.default)}},{key:"beforeDestroy",value:function(){g["g"].delete(ee.vnodes,this.name)}}]),n}(g["g"]);Object(h["a"])([Object(g["d"])({required:!0})],te.prototype,"name",void 0),te=Object(h["a"])([g["a"]],te);var ne,ie,ae,oe=te,re=oe,se=Object(U["a"])(re,ne,ie,!1,null,null,null),ce=se.exports,le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"TabsContainer"},[n("div",{ref:"tabs",staticClass:"tabs",on:{"&wheel":function(t){return e.handleWhell(t)}}},e._l(e.children,(function(t,i){return n("div",{key:i,staticClass:"tab",class:{active:e.activeIndex===i},attrs:{draggable:"true"},on:{dragstart:function(n){return e.handleDragstart(t)},click:function(t){e.activeIndex=i}}},[e._v(e._s(t.label))])})),0),n("div",{staticClass:"body"},e._l(e.children,(function(t,i){return n("CrossRenderView",{directives:[{name:"show",rawName:"v-show",value:e.activeIndex===i,expression:"activeIndex === index"}],key:i,attrs:{name:t.name}})})),1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isDraging,expression:"isDraging"}],staticClass:"mask",on:{dragover:e.handleMaskDragover,dragleave:e.handleMaskDragleave,drop:e.handleMaskDrop}}),e.dragPosition?n("div",{staticClass:"drag-hint",class:e.dragPosition}):e._e()])},de=[],ue=(n("a434"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"DragComponent"},[e._v("DragComponent")])}),fe=[],pe=(n("c7cd"),n("406e")),he=ae=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){var e;return Object(d["a"])(this,n),e=t.apply(this,arguments),e.w=0,e.h=0,e}return Object(u["a"])(n,[{key:"children",get:function(){var e=this.layoutNode;return"horizontal"===e.type||"vertical"===e.type||"tabs"===e.type?e.children:[]}},{key:"childrenLength",get:function(){var e;return(null===(e=this.children)||void 0===e?void 0:e.length)||0}},{key:"handleChildrenLengthChange",value:function(e){if(0===e&&this.$parent instanceof ae&&"MainContainer"!==this.$options.name){var t=this.$parent.children,n=t.indexOf(this.layoutNode);t.splice(n,1)}if(1===e&&this.$parent instanceof ae&&"TabsContainer"!==this.$options.name&&"MainContainer"!==this.$options.name&&("horizontal"===this.layoutNode.type||"vertical"===this.layoutNode.type||"tabs"===this.layoutNode.type)){if(this.layoutNode.fixed)return;var i=this.$parent.children,a=i.indexOf(this.layoutNode),o=this.children[0];this.$set(o,"basis",this.layoutNode.basis),this.$set(i,a,o)}}},{key:"getContainerComponent",value:function(e){return Ze(e)}},{key:"canSetBasis",value:function(e){return("horizontal"===e.type||"vertical"===e.type||"tabs"===e.type)&&!e.fluid}},{key:"setSizeInf",value:function(){var e=this.$el.getBoundingClientRect();this.w=e.width,this.h=e.height}},{key:"mounted",value:function(){this.setSizeInf(),Object(pe["a"])(this.$el,this.setSizeInf)}},{key:"destroyed",value:function(){Object(pe["b"])(this.$el,this.setSizeInf)}}]),n}(g["g"]);Object(h["a"])([Object(g["b"])("drag-layout-context")],he.prototype,"dragLayoutContext",void 0),Object(h["a"])([Object(g["d"])()],he.prototype,"layoutNode",void 0),Object(h["a"])([Object(g["h"])("childrenLength",{immediate:!0})],he.prototype,"handleChildrenLengthChange",null),he=ae=Object(h["a"])([g["a"]],he);var ge=he,be=ge,ve=(n("944d"),Object(U["a"])(be,ue,fe,!1,null,"6d5eb73f",null)),ye=ve.exports,me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"VerticalContainer",class:{"has-fluid":e.hasFluid}},e._l(e.children,(function(t,i){return n("div",{key:i,staticClass:"child",class:{fluid:t.fluid},style:{"flex-basis":(t.basis||0)+"px",height:(t.basis||0)+"px"}},[n(e.getContainerComponent(t.type),{tag:"component",attrs:{layoutNode:t}})],1)})),0)},je=[],Oe=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){return Object(d["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"hasFluid",get:function(){var e=this.children,t=e.findIndex((function(e){return e.fluid}));return t>-1}},{key:"handleMaskDrop",value:function(e,t){var n=this.$parent,i=this.layoutNode,a=n.children.indexOf(i);switch(e){case"right":this.layoutNode.basis=t.basis=(this.layoutNode.basis||0)/2,n.children.splice(a+1,0,t);break;case"left":this.layoutNode.basis=t.basis=(this.layoutNode.basis||0)/2,n.children.splice(a,0,t);break;default:break}}}]),n}(ye);Object(h["a"])([Object(g["d"])()],Oe.prototype,"layoutNode",void 0),Oe=Object(h["a"])([g["a"]],Oe);var Ce=Oe,we=Ce,ke=(n("0018"),Object(U["a"])(we,me,je,!1,null,"6ee4bf49",null)),xe=ke.exports,Ee=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){return Object(d["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"sharedVnodesContainer",get:function(){return ee}},{key:"render",value:function(e){var t=e("div",{style:{height:"100%"}});return t}},{key:"addEl",value:function(){var e,t=ee.vnodes[this.name],n=(null===(e=t.componentInstance)||void 0===e?void 0:e.$el)||t.elm;n&&this.$el.appendChild(n)}},{key:"mounted",value:function(){this.addEl()}},{key:"beforeDestroy",value:function(){}}]),n}(g["g"]);Object(h["a"])([Object(g["d"])({required:!0})],Ee.prototype,"name",void 0),Object(h["a"])([Object(g["h"])("name"),Object(g["h"])("sharedVnodesContainer",{deep:!0})],Ee.prototype,"addEl",null),Ee=Object(h["a"])([g["a"]],Ee);var _e,Ie,Se=Ee,Ne=Se,We=Object(U["a"])(Ne,_e,Ie,!1,null,null,null),Te=We.exports,De=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){var e;return Object(d["a"])(this,n),e=t.apply(this,arguments),e.activeIndex=0,e.dragPosition="",e}return Object(u["a"])(n,[{key:"isDraging",get:function(){return this.dragLayoutContext.isDraging},set:function(e){this.dragLayoutContext.isDraging=e}},{key:"dragItem",get:function(){return this.dragLayoutContext.dragItem},set:function(e){this.dragLayoutContext.dragItem=e}},{key:"dropCallback",get:function(){return this.dragLayoutContext.dropCallback},set:function(e){this.dragLayoutContext.dropCallback=e}},{key:"childrenChange",value:function(){this.inHorizontal?this.layoutNode.basis!=this.w&&this.$set(this.layoutNode,"basis",this.w):this.layoutNode.basis!=this.h&&this.$set(this.layoutNode,"basis",this.h)}},{key:"handleDragstart",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$nextTick();case 2:n=function e(){i.isDraging=!1,i.dragItem=null,i.dropCallback=null,document.removeEventListener("dragend",e)},document.addEventListener("dragend",n),window.setTimeout((function(){i.isDraging=!0,i.dragItem=t,i.dropCallback=function(){var e=i.children.indexOf(t);i.children.splice(e,1)}}));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handleMaskDragover",value:function(e){e.preventDefault();var t=this.$el,n=t.getBoundingClientRect(),i=(e.clientX-n.x)/n.width,a=(e.clientY-n.y)/n.height;this.dragPosition="center",i<.125&&(this.dragPosition="left"),i>.875&&(this.dragPosition="right"),a<.125&&(this.dragPosition="top"),a>.875&&(this.dragPosition="bottom")}},{key:"handleMaskDrop",value:function(e){if(e.preventDefault(),this.dropCallback&&this.dropCallback(),this.dragItem&&this.$parent instanceof ye){var t=this.$parent,n=this.$parent instanceof xe,i=this.layoutNode,a=t.children.indexOf(i),o={type:"tabs",children:[this.dragItem],basis:0};if(n)switch(this.dragPosition){case"bottom":t.children.splice(a+1,0,o);break;case"top":t.children.splice(a,0,o);break;case"left":this.layoutNode.basis=o.basis=(this.layoutNode.basis||0)/2,t.children.splice(a,1,{type:"horizontal",children:[o,this.layoutNode]});break;case"right":this.layoutNode.basis=o.basis=(this.layoutNode.basis||0)/2,t.children.splice(a,1,{type:"horizontal",children:[this.layoutNode,o]});break;case"center":default:this.children.push(this.dragItem);break}else switch(o.basis=275,this.dragPosition){case"right":this.layoutNode.basis=o.basis=(this.layoutNode.basis||0)/2,t.children.splice(a+1,0,o);break;case"left":this.layoutNode.basis=o.basis=(this.layoutNode.basis||0)/2,t.children.splice(a,0,o);break;case"top":t.children.splice(a,1,{type:"vertical",children:[o,this.layoutNode],basis:this.layoutNode.basis});break;case"bottom":t.children.splice(a,1,{type:"vertical",children:[this.layoutNode,o],basis:this.layoutNode.basis});break;case"center":default:this.children.push(this.dragItem);break}}this.dragPosition="",this.isDraging=!1,this.dragItem=null,this.dropCallback=null}},{key:"handleMaskDragleave",value:function(){this.dragPosition=""}},{key:"handleWhell",value:function(e){var t=e.deltaY/5,n=this.tabs,i=n.scrollLeft;n.scrollTo({left:i+t})}}]),n}(ye);Object(h["a"])([Object(g["f"])()],De.prototype,"tabs",void 0),Object(h["a"])([Object(g["d"])()],De.prototype,"layoutNode",void 0),Object(h["a"])([Object(g["d"])({default:!1})],De.prototype,"inHorizontal",void 0),Object(h["a"])([Object(g["h"])("h"),Object(g["h"])("w",{immediate:!0})],De.prototype,"childrenChange",null),De=Object(h["a"])([Object(g["a"])({name:"TabsContainer",components:{CrossRenderView:Te}})],De);var Pe=De,Le=Pe,Ae=(n("97a0"),Object(U["a"])(Le,le,de,!1,null,null,null)),Me=Ae.exports,$e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"HorizontalContainer",class:{"has-fluid":e.hasFluid}},e._l(e.children,(function(t,i){return n("div",{key:i,staticClass:"child",class:{fluid:t.fluid},style:{"flex-basis":(t.basis||0)+"px",width:(t.basis||0)+"px"}},[n(e.getContainerComponent(t.type),{tag:"component",attrs:{inHorizontal:!0,layoutNode:t}}),i<e.children.length-1?n("div",{staticClass:"drag-handler",on:{mousedown:function(n){return e.startDrag(n,t,e.children[i+1])}}}):e._e()],1)})),0)},Re=[],ze=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){var e;return Object(d["a"])(this,n),e=t.apply(this,arguments),e.$initialState={clientX:0,clientY:0,basis:0,nextBasis:0,layoutNode:null,nextLayoutNode:null},e}return Object(u["a"])(n,[{key:"basisSummation",get:function(){var e=100;return this.children.forEach((function(t){"horizontal"!==t.type&&"vertical"!==t.type&&"tabs"!==t.type||(e+=t.fluid?0:t.basis||0)})),e}},{key:"hasFluid",get:function(){var e=this.children,t=e.findIndex((function(e){return e.fluid}));return t>-1}},{key:"childrenChange",value:function(){this.layoutNode.basis!=this.w&&this.$set(this.layoutNode,"basis",this.w)}},{key:"startDrag",value:function(e,t,n){this.$initialState={basis:0,nextBasis:0,clientX:e.clientX,clientY:e.clientY,layoutNode:t,nextLayoutNode:n},this.$initialState.basis=(null===t||void 0===t?void 0:t.basis)||0,this.$initialState.nextBasis=(null===n||void 0===n?void 0:n.basis)||0,document.addEventListener("mousemove",this.onMoving),document.addEventListener("mouseup",this.endDrag)}},{key:"onMoving",value:function(e){var t=this.$initialState,n=t.layoutNode,i=t.nextLayoutNode,a=e.clientX-t.clientX;!n||"horizontal"!==n.type&&"vertical"!==n.type&&"tabs"!==n.type||n.fluid||this.$set(n,"basis",t.basis+a),!i||"horizontal"!==i.type&&"vertical"!==i.type&&"tabs"!==i.type||i.fluid||this.$set(i,"basis",t.nextBasis-a)}},{key:"endDrag",value:function(){this.$initialState={clientX:0,clientY:0,basis:0,nextBasis:0,layoutNode:null,nextLayoutNode:null},document.removeEventListener("mousemove",this.onMoving),document.removeEventListener("mouseup",this.endDrag)}}]),n}(ye);Object(h["a"])([Object(g["d"])()],ze.prototype,"layoutNode",void 0),Object(h["a"])([Object(g["h"])("w",{immediate:!0})],ze.prototype,"childrenChange",null),ze=Object(h["a"])([g["a"]],ze);var Fe=ze,Ge=Fe,Je=(n("c890"),Object(U["a"])(Ge,$e,Re,!1,null,"f01bb73c",null)),Be=Je.exports,He=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"MainContainer"},[n("CrossRenderView",{staticClass:"cross-render-view",attrs:{name:e.layoutNode.name}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isDraging,expression:"isDraging"}],staticClass:"mask",on:{dragover:e.handleMaskDragover,dragleave:e.handleMaskDragleave,drop:e.handleMaskDrop}}),e.dragPosition?n("div",{staticClass:"drag-hint",class:e.dragPosition}):e._e()],1)},Ye=[],qe=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){var e;return Object(d["a"])(this,n),e=t.apply(this,arguments),e.dragPosition="",e}return Object(u["a"])(n,[{key:"isDraging",get:function(){return this.dragLayoutContext.isDraging},set:function(e){this.dragLayoutContext.isDraging=e}},{key:"dragItem",get:function(){return this.dragLayoutContext.dragItem},set:function(e){this.dragLayoutContext.dragItem=e}},{key:"dropCallback",get:function(){return this.dragLayoutContext.dropCallback},set:function(e){this.dragLayoutContext.dropCallback=e}},{key:"handleMaskDragover",value:function(e){e.preventDefault();var t=this.$el,n=t.getBoundingClientRect(),i=(e.clientX-n.x)/n.width,a=(e.clientY-n.y)/n.height;i<=.5&&i<a&&(this.dragPosition="left"),i>.5&&i>a&&(this.dragPosition="right"),a<=.5&&i>a&&(this.dragPosition="top"),a>.5&&i<a&&(this.dragPosition="bottom")}},{key:"handleMaskDrop",value:function(e){if(e.preventDefault(),this.dropCallback&&this.dropCallback(),this.dragItem&&this.$parent instanceof ye){var t=this.$parent,n=this.$parent instanceof xe,i=this.layoutNode,a=t.children.indexOf(i),o={type:"tabs",children:[this.dragItem],basis:125};if(n)switch(this.dragPosition){case"bottom":t.children.splice(a+1,0,o);break;case"top":t.children.splice(a,0,o);break;case"left":case"right":t.handleMaskDrop(this.dragPosition,o);break;case"center":default:break}}this.dragPosition="",this.isDraging=!1,this.dragItem=null,this.dropCallback=null}},{key:"handleMaskDragleave",value:function(){this.dragPosition=""}}]),n}(ye);Object(h["a"])([Object(g["d"])()],qe.prototype,"layoutNode",void 0),qe=Object(h["a"])([Object(g["a"])({name:"MainContainer",components:{CrossRenderView:Te}})],qe);var Ve=qe,Xe=Ve,Ue=(n("6e16"),Object(U["a"])(Xe,He,Ye,!1,null,"8bdf9410",null)),Ke=Ue.exports;function Ze(e){switch(e){case"tabs":return Me;case"horizontal":return Be;case"vertical":return xe;case"main":return Ke;default:return Me}}var Qe=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){var e;return Object(d["a"])(this,n),e=t.apply(this,arguments),e.isDraging=!1,e.dragItem=null,e.dropCallback=null,e}return Object(u["a"])(n,[{key:"dragLayoutContext",get:function(){return this}},{key:"render",value:function(e){var t,n=this.$slots.default||[];return e("div",{class:"DragLayoutContext"},[e(Ze((null===(t=this.layoutNode)||void 0===t?void 0:t.type)||""),{props:{layoutNode:this.layoutNode}})].concat(Object(y["a"])(n.map((function(t){var n,i;return e(ce,{props:{name:null===(n=t.data)||void 0===n||null===(i=n.attrs)||void 0===i?void 0:i.name}},[t])})))))}}]),n}(g["g"]);Object(h["a"])([Object(g["e"])("drag-layout-context")],Qe.prototype,"dragLayoutContext",null),Object(h["a"])([Object(g["d"])()],Qe.prototype,"layoutNode",void 0),Qe=Object(h["a"])([g["a"]],Qe);var et,tt,nt=Qe,it=nt,at=(n("d8a4"),Object(U["a"])(it,et,tt,!1,null,"0fcc4aa7",null)),ot=at.exports,rt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"object-editor-tabs"},[n("div",{ref:"tabs",staticClass:"tabs",on:{"&wheel":function(t){return e.handleWhell(t)}}},[n("vue-drag",{model:{value:e.tabInfos,callback:function(t){e.tabInfos=t},expression:"tabInfos"}},e._l(e.tabInfos,(function(t,i){return n("ObjectEditorTab",{key:i,ref:e.getTabInfoKey(t),refInFor:!0,staticClass:"tab",attrs:{tabInfo:t,active:e.currentTabInfo&&e.tabInfoEqual(t,e.currentTabInfo)},on:{close:function(n){return e.handleClose(t)}},nativeOn:{click:function(n){return e.handleClick(t)},dblclick:function(n){return e.handleDbClick(t)}}})})),1)],1),e._l(e.tabInfos,(function(t){return n("div",{directives:[{name:"show",rawName:"v-show",value:t===e.currentTabInfo,expression:"tabInfo === currentTabInfo"}],key:e.getTabInfoKey(t),staticClass:"editor-container"},[n(t.editor,{tag:"component",attrs:{tabInfo:t,active:t===e.currentTabInfo}})],1)})),n("div",{directives:[{name:"show",rawName:"v-show",value:0===e.tabInfos.length,expression:"tabInfos.length === 0"}],staticClass:"tips"},[e._m(0)])],2)},st=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tips-box"},[n("dl",[n("dt",[e._v("显示所有命令")]),n("dd",[n("span",{staticClass:"key"},[e._v("Ctrl")]),n("span",{staticClass:"key-separator"},[e._v("+")]),n("span",{staticClass:"key"},[e._v("Shift")]),n("span",{staticClass:"key-separator"},[e._v("+")]),n("span",{staticClass:"key"},[e._v("P")])])])])}],ct=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ObjectEditorTab",class:{active:e.active,isPreview:e.isPreview}},[n("font-awesome-icon",{staticClass:"type-icon",style:{color:e.editableObjectTypeInfo.color},attrs:{icon:e.editableObjectTypeInfo.icon}}),n("span",{staticClass:"name"},[e._v(e._s(e.objectName))]),n("font-awesome-icon",{staticClass:"close-icon",attrs:{title:"关闭（ALT + f4）",icon:["fas","times"]},on:{click:function(t){return t.stopPropagation(),e.handleCloseBtnClick(t)}}})],1)},lt=[],dt=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){return Object(d["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"displayName",get:function(){return""}}]),n}(g["g"]);dt=Object(h["a"])([g["a"]],dt);var ut=dt,ft=(n("cb29"),n("2ca0"),n("5ce8")),pt=n("d576"),ht=n("f7fe"),gt=n.n(ht),bt=n("8dee"),vt=n.n(bt),yt=function e(){Object(d["a"])(this,e),this.name="页面",this.width=1920,this.height=1080,this.bgColor="#444444",this.widgetConfigs=[]},mt=(n("18a5"),function e(){Object(d["a"])(this,e),this.anchor="left-top",this.x=0,this.y=0,this.w=100,this.h=100}),jt=function e(){Object(d["a"])(this,e),this.w=0,this.h=0},Ot=function(){function e(){Object(d["a"])(this,e),this.name="组件",this.id=vt.a.generate(),this.lock=!1,this.visible=!0,this.base=new mt,this.parentWidget=null,this.children=[],this._widgetTag="DefaultWidget",this._code="",this._runtime=new jt}return Object(u["a"])(e,[{key:"getAbsolutePosition",value:function(){var e=this.base.x,t=this.base.y;if(this.parentWidget){var n=this.parentWidget.getAbsolutePosition(),i=n.x,a=n.y;e+=i,t+=a}return{x:e,y:t}}}]),e}(),Ct=function(e,t){var n;return null===(n=e[t]||e[":"+t])||void 0===n?void 0:n.value},wt=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){var e;return Object(d["a"])(this,n),e=t.apply(this,arguments),e.pageConfig=null,e.pageContainerASTElement=null,e.selectedWidgetConfigIds=[],e.hoverWidgetConfigId=null,e.updateContentDebounce=gt()((function(){e.updateCode()}),200),e}return Object(u["a"])(n,[{key:"fileName",get:function(){return this.file.name}},{key:"content",get:function(){return this.file.content},set:function(e){this.file.content=e}},{key:"widgetConfigs",get:function(){var e,t=[],n=function e(n){if(n.length){var i,a=Object(m["a"])(n);try{for(a.s();!(i=a.n()).done;){var o=i.value;t.push(o),e((null===o||void 0===o?void 0:o.children)||[])}}catch(r){a.e(r)}finally{a.f()}}};return n((null===(e=this.pageConfig)||void 0===e?void 0:e.widgetConfigs)||[]),t}},{key:"selectedWidgetConfigs",get:function(){var e=this;return this.widgetConfigs.filter((function(t){return-1!==e.selectedWidgetConfigIds.indexOf(t.id)}))||[]}},{key:"singleSelectedWidgetConfig",get:function(){return 1===this.selectedWidgetConfigs.length?this.selectedWidgetConfigs[0]:null}},{key:"multipleSelectedWidgetConfig",get:function(){return this.selectedWidgetConfigs.length>1?this.selectedWidgetConfigs:[]}},{key:"selectedAncestors",get:function(){var e=[],t=function t(n){var i=n.parentWidget;i&&(e.push(i),t(i))};return this.selectedWidgetConfigs.length&&this.selectedWidgetConfigs.forEach(t),e}},{key:"selectedAncestorIds",get:function(){return this.selectedAncestors.map((function(e){return e.id}))}},{key:"hasSelected",get:function(){return this.selectedWidgetConfigs.length>0}},{key:"isMultipleSelected",get:function(){return this.multipleSelectedWidgetConfig.length>0}},{key:"selectWidgetConfig",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.selectedWidgetConfigs[0],i=this.getWidgetConfigById(e);if(i)if(t){(null===n||void 0===n?void 0:n.parentWidget)!==i.parentWidget&&this.clearSelected();var a=this.selectedWidgetConfigIds.indexOf(e);a>-1?this.selectedWidgetConfigIds.splice(a,1):this.selectedWidgetConfigIds.push(e)}else this.selectedWidgetConfigIds=[e]}},{key:"getWidgetConfigById",value:function(e){return this.widgetConfigs.find((function(t){return t.id===e}))}},{key:"groupSelectedWidgetConfigs",value:function(){var e,t,n=this.selectedWidgetConfigs,i=n[0],a=i.parentWidget,o=(null===(e=this.pageConfig)||void 0===e?void 0:e.widgetConfigs)||[],r=Math.min.apply(Math,Object(y["a"])(n.map((function(e){return e.base.x})))),s=Math.min.apply(Math,Object(y["a"])(n.map((function(e){return e.base.y})))),c=Math.max.apply(Math,Object(y["a"])(n.map((function(e){return e.base.x+e.base.w})))),l=Math.max.apply(Math,Object(y["a"])(n.map((function(e){return e.base.y+e.base.h})))),d=[],u=(null===a||void 0===a?void 0:a.children.indexOf(i))||o.indexOf(i),f=new Ot,p=Object(m["a"])(n);try{for(p.s();!(t=p.n()).done;){var h=t.value;this.deleteWidgetConfigById(h.id,!1),h.parentWidget=f,h.base.x-=r,h.base.y-=s,d.push(h)}}catch(g){p.e(g)}finally{p.f()}f.name="组",f.base.x=r,f.base.y=s,f.base.w=c-r,f.base.h=l-s,f.children=d,f._widgetTag="WidgetGroup",a?(f.parentWidget=a,a.children.splice(u,0,f)):this.pageConfig&&o.splice(u,0,f)}},{key:"ungroupSelectedWidgetConfigs",value:function(){var e=this.singleSelectedWidgetConfig;if(e&&"WidgetGroup"===e._widgetTag){var t,n=e.parentWidget,i=e.children,a=Object(m["a"])(i);try{for(a.s();!(t=a.n()).done;){var o=t.value;o.base.x+=e.base.x,o.base.y+=e.base.y,o.parentWidget=n||null}}catch(d){a.e(d)}finally{a.f()}if(n){var r,s=n.children.indexOf(e);(r=n.children).splice.apply(r,[s,1].concat(Object(y["a"])(i)))}else if(this.pageConfig){var c,l=this.pageConfig.widgetConfigs.indexOf(e);(c=this.pageConfig.widgetConfigs).splice.apply(c,[l,1].concat(Object(y["a"])(i)))}}}},{key:"deleteWidgetConfigById",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.getWidgetConfigById(e),a=null===i||void 0===i?void 0:i.parentWidget,o=(null===a||void 0===a?void 0:a.children)||(null===(t=this.pageConfig)||void 0===t?void 0:t.widgetConfigs)||[],r=o.findIndex((function(t){return t.id===e}));r>-1&&o.splice(r,1),n&&0===o.length&&a&&"WidgetGroup"===a._widgetTag&&this.deleteWidgetConfigById(a.id)}},{key:"deleteAllSelectedWidgetConfig",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=Object(m["a"])(this.selectedWidgetConfigIds);try{for(t.s();!(n=t.n()).done;)i=n.value,i&&this.deleteWidgetConfigById(i)}catch(a){t.e(a)}finally{t.f()}case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"clearSelected",value:function(){this.selectedWidgetConfigIds=[]}},{key:"isSelectedWidgetConfigId",value:function(e){return this.selectedWidgetConfigIds.indexOf(e)>-1}},{key:"isSelectedAncestorId",value:function(e){return this.selectedAncestorIds.indexOf(e)>-1}},{key:"copySelectedWidgetConfig",value:function(){var e="";this.selectedWidgetConfigs.forEach((function(t){e+=t._code})),pt["b"](e)}},{key:"pasteWidgetConfig",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t,n){var i,a,o,r,s,c,l,d,u,f,p=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pt["a"]();case 2:a=e.sent,o="<code-root>"+a+"</code-root>",r=Object(ft["compile"])(o,{outputSourceRange:!0}),s=null===(i=r.ast)||void 0===i?void 0:i.children,c=null===s||void 0===s?void 0:s.filter((function(e){return p.isWidgetTagAstNode(e)})),l=c.map((function(e){return p.astElementToWidgetConfig(e)})),d=[],l.forEach((function(e){d.push.apply(d,Object(y["a"])(p.traverseWidgetConfig(e)))})),d.forEach((function(e){e.id=vt.a.generate()})),u=Math.min.apply(Math,Object(y["a"])(l.map((function(e){return e.base.x})))),f=Math.min.apply(Math,Object(y["a"])(l.map((function(e){return e.base.y})))),l.forEach((function(e){e.base.x-=u,e.base.y-=f,e.base.x+=t,e.base.y+=n})),l.forEach((function(e){var t;null===(t=p.pageConfig)||void 0===t||t.widgetConfigs.push(e)})),this.selectedWidgetConfigIds=l.map((function(e){return e.id}));case 16:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"addWidget",value:function(e,t,n){var i,a=new Ot;a._widgetTag=e.tag,a.name=e.displayName,a.base.x=t||0,a.base.y=n||0,e.autoSize&&(a.base.w=0,a.base.h=0),null===(i=this.pageConfig)||void 0===i||i.widgetConfigs.push(a)}},{key:"updatePageConfig",value:function(){var e=this;this.pageConfig=null;var t=null;if(this.fileName.endsWith(".vue")){var n=Object(ft["compile"])(this.content,{outputSourceRange:!0});t=n.ast}if(t){var i=[],a=function e(t){t.tag&&i.push(t);var n,a=Object(m["a"])(t.children);try{for(a.s();!(n=a.n()).done;){var o=n.value;1===o.type&&e(o)}}catch(r){a.e(r)}finally{a.f()}};a(t);var o=i.find((function(e){return"PageContainer"===e.tag}));if(this.pageContainerASTElement=o||null,o){var r=o.rawAttrsMap||{},s=new yt;s.width=Number(Ct(r,"width"))||s.width,s.height=Number(Ct(r,"height"))||s.height,s.bgColor=Ct(r,"bgColor")||s.bgColor;var c=function t(n,i,a){for(var o=e.getWidgetASTElements(n),r=0;r<o.length;r++){var s=o[r],c=new Ot;c.parentWidget=a||null;var l=s.rawAttrsMap,d=s.start,u=s.end,f=s.tag;e.setWidgetConfig(c,l),c.id=Ct(l,"ref")||c.id,c._widgetTag=f,c._code=e.content.slice(d,u)||"";var p=e.getWidgetDefinitionBytag(f);null!==p&&void 0!==p&&p.autoSize&&(c.base.w=0,c.base.h=0),s.children.length&&t(s.children,c.children,c),i.push(c)}};c(o.children,s.widgetConfigs),this.pageConfig=s}}}},{key:"updateCode",value:function(){var e=this;if(this.pageConfig){var t=this.pageContainerASTElement,n=t.start||-1,i=t.end||-1,a=this.getIndent(n),o=function(t){return"\n".concat(e.indentText(a+t))},r=this.content.slice(0,n),s=this.content.slice(i),c="",l="";l+="".concat(o(2),':width="').concat(this.pageConfig.width,'"'),l+="".concat(o(2),':height="').concat(this.pageConfig.height,'"'),l+="".concat(o(2),'bgColor="').concat(this.pageConfig.bgColor,'"'),c="<PageContainer".concat(l).concat(o(0),">");var d="".concat(o(0),"</PageContainer>"),u="",f=function t(n,i){var r,s=Object(m["a"])(n);try{for(s.s();!(r=s.n()).done;){var c=r.value,l="".concat(o(2*i+2),"<").concat(c._widgetTag);l+=e.getAtttrs(c,i,a),l+="".concat(o(2*i+2),">"),u+=l,c.children.length?(t(c.children,i+1),u+="".concat(o(2*i+2),"</").concat(c._widgetTag,">")):u+="</".concat(c._widgetTag,">")}}catch(d){s.e(d)}finally{s.f()}};f(this.pageConfig.widgetConfigs,0);var p=c+u+d;this.content="".concat(r).concat(p).concat(s)}}},{key:"handleContentChange",value:function(){this.updatePageConfig()}},{key:"handlePageConfigChange",value:function(e,t){e===t&&this.updateContentDebounce()}},{key:"isWidgetTagAstNode",value:function(e){return 1===e.type&&this.isWidgetTag(e.tag)}},{key:"isWidgetTag",value:function(e){var t=this.appEditor.isWidgetTag;return t(e)}},{key:"getWidgetDefinitionBytag",value:function(e){var t=this.appEditor.getWidgetDefinitionBytag;return t(e)}},{key:"getWidgetASTElements",value:function(e){var t=this.isWidgetTag,n=e.filter((function(e){return t(e.tag)}));return n}},{key:"traverseWidgetConfig",value:function(e){var t=this,n=[];return n.push(e),e.children.forEach((function(e){n=n.concat(t.traverseWidgetConfig(e))})),n}},{key:"astElementToWidgetConfig",value:function(e,t){var n=this;if(this.isWidgetTag(e.tag)){var i=new Ot;i.parentWidget=t||null;var a=e.rawAttrsMap,o=e.start,r=e.end,s=e.tag;this.setWidgetConfig(i,a),i.id=Ct(a,"ref")||i.id,i._widgetTag=s,i._code=this.content.slice(o,r)||"";var c=e.children.filter((function(e){return n.isWidgetTag(e.tag)}));return i.children=c.map((function(e){return n.astElementToWidgetConfig(e)})),i}throw new Error("".concat(e.tag," 不是有效的组件TAG"))}},{key:"getIndent",value:function(e){var t=this,n=0,i=function(){return" "===t.content.charAt(--e)};while(i())n++;return n}},{key:"indentText",value:function(e){return Array(e).fill(" ").join("")}},{key:"setWidgetConfig",value:function(e,t){var n,i=new Ot,a=function(e){return!(e.startsWith("_")||"id"===e||"base"===e||"children"===e||"parentWidget"===e)},o=Object.keys(i).filter(a),r=Object.keys(i.base).filter(a),s=Object(m["a"])(o);try{for(s.s();!(n=s.n()).done;){var c=n.value,l=i[c],d=Ct(t,c);"string"===typeof l?e[c]=d?String(d):l:"number"===typeof l&&(e[c]=d?Number(d):l)}}catch(b){s.e(b)}finally{s.f()}var u,f=Object(m["a"])(r);try{for(f.s();!(u=f.n()).done;){var p=u.value,h=i.base[p],g=Ct(t,p);"string"===typeof h?e.base[p]=g?String(g):h:"number"===typeof h&&(e.base[p]=g?Number(g):h)}}catch(b){f.e(b)}finally{f.f()}e.id=Ct(t,"ref")||e.id}},{key:"getAtttrs",value:function(e,t,n){var i=this,a="",o=this.getWidgetDefinitionBytag(e._widgetTag),r=new Ot,s=function(e){return!(e.startsWith("_")||"id"===e||"base"===e||"children"===e||"parentWidget"===e)},c=Object.keys(r).filter(s),l=Object.keys(r.base).filter(s),d=function(e){return"\n".concat(i.indentText(n+e))};a+="".concat(d(2*t+4),':ref="').concat(e.id,'"');var u,f=Object(m["a"])(c);try{for(f.s();!(u=f.n()).done;){var p=u.value;e[p]!==r[p]&&(a+="".concat(d(2*t+4),":").concat(p,'="').concat(e[p],'"'))}}catch(v){f.e(v)}finally{f.f()}var h,g=Object(m["a"])(l);try{for(g.s();!(h=g.n()).done;){var b=h.value;(null===o||void 0===o||!o.autoSize||"w"!==b&&"h"!==b)&&(e.base[b]!==r.base[b]&&(a+="".concat(d(2*t+4),":").concat(b,'="').concat(e.base[b],'"')))}}catch(v){g.e(v)}finally{g.f()}return a}},{key:"created",value:function(){this.updatePageConfig()}}]),n}(g["g"]);Object(h["a"])([Object(g["d"])()],wt.prototype,"file",void 0),Object(h["a"])([Object(g["d"])()],wt.prototype,"appEditor",void 0),Object(h["a"])([Object(g["h"])("content")],wt.prototype,"handleContentChange",null),Object(h["a"])([Object(g["h"])("pageConfig",{deep:!0})],wt.prototype,"handlePageConfigChange",null),wt=Object(h["a"])([g["a"]],wt);var kt=wt,xt=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){var e;return Object(d["a"])(this,n),e=t.apply(this,arguments),e.id=R("FileEditableObject"),e}return Object(u["a"])(n,[{key:"displayName",get:function(){return this.file.name}},{key:"fileHandler",get:function(){return new kt({propsData:{file:this.file,appEditor:this.appEditor}})}}]),n}(ut);Object(h["a"])([Object(g["d"])({required:!0})],xt.prototype,"file",void 0),Object(h["a"])([Object(g["d"])({required:!0})],xt.prototype,"parentPath",void 0),Object(h["a"])([Object(g["d"])()],xt.prototype,"appEditor",void 0),Object(h["a"])([Object(g["d"])()],xt.prototype,"parentDirectorys",void 0),xt=Object(h["a"])([g["a"]],xt);var Et=xt,_t=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){var e;return Object(d["a"])(this,n),e=t.apply(this,arguments),e.id=R("SettingEditableObject"),e}return Object(u["a"])(n,[{key:"displayName",get:function(){return"设定"}}]),n}(ut);Object(h["a"])([Object(g["d"])()],_t.prototype,"appEditor",void 0),_t=Object(h["a"])([g["a"]],_t);var It=_t,St=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"FileEditor"},[n("div",{staticClass:"body"},[n("CodeEditor",{ref:"codeEditor",staticClass:"code-editor",model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1)])},Nt=[],Wt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"CodeEditor"},[n("div",{staticClass:"vue-codemirror"},[n("textarea",{ref:"textarea"})])])},Tt=[],Dt=n("56b3"),Pt=n.n(Dt),Lt=(n("b933"),n("a7be"),n("ebe1"),n("693d"),n("f9d4"),function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){return Object(d["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"handelValue",value:function(){var e=this.cminstance.getValue();if(this.value!==e){var t=this.cminstance.getCursor();this.cminstance.setValue(this.value),this.cminstance.setCursor(t)}}},{key:"initialize",value:function(){var e=this;this.cminstance=Pt.a.fromTextArea(this.$refs.textarea,{value:this.value,theme:"material-darker",lineNumbers:!0,mode:this.mode}),this.cminstance.setValue(this.value),this.cminstance.on("change",(function(){var t=e.cminstance.getValue();e.$emit("input",t)}))}},{key:"setSize",value:function(){var e=this.$el,t=e.clientWidth,n=e.clientHeight;this.cminstance.setSize(t,n)}},{key:"mounted",value:function(){this.initialize(),Object(pe["a"])(this.$el,this.setSize),this.setSize()}},{key:"beforeDestroy",value:function(){Object(pe["b"])(this.$el,this.setSize)}},{key:"focusCode",value:function(e){var t=this.cminstance.getSearchCursor(e);t.findNext()&&this.cminstance.setSelection(t.from(),t.to(),{scroll:!0})}}]),n}(g["g"]));Object(h["a"])([Object(g["d"])()],Lt.prototype,"value",void 0),Object(h["a"])([Object(g["d"])({default:"javascript"})],Lt.prototype,"mode",void 0),Object(h["a"])([Object(g["h"])("value")],Lt.prototype,"handelValue",null),Lt=Object(h["a"])([g["a"]],Lt);var At=Lt,Mt=At,$t=(n("b71b"),Object(U["a"])(Mt,Wt,Tt,!1,null,"ef86111a",null)),Rt=$t.exports,zt=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){return Object(d["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"fileEditableObject",get:function(){return this.tabInfo.object}},{key:"file",get:function(){return this.fileEditableObject.file}},{key:"content",get:function(){return this.file.content},set:function(e){this.file.content=e}},{key:"tabInfoKey",get:function(){var e=this.tabInfo;return"".concat(e.editor.name,":").concat(e.object.id)}}]),n}(g["g"]);Object(h["a"])([Object(g["d"])({required:!0})],zt.prototype,"tabInfo",void 0),zt=Object(h["a"])([Object(g["a"])({components:{CodeEditor:Rt}})],zt);var Ft=zt,Gt=Ft,Jt=(n("a586"),Object(U["a"])(Gt,St,Nt,!1,null,"86b5b56c",null)),Bt=Jt.exports,Ht=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"SettingEditor"},[n("div",{staticClass:"body"},[n("CodeEditor",{ref:"codeEditor",staticClass:"code-editor",model:{value:e.setting,callback:function(t){e.setting=t},expression:"setting"}})],1)])},Yt=[],qt=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){var e;return Object(d["a"])(this,n),e=t.apply(this,arguments),e.setting="123",e}return Object(u["a"])(n,[{key:"settingEditableObject",get:function(){return this.tabInfo.object}}]),n}(g["g"]);Object(h["a"])([Object(g["d"])({required:!0})],qt.prototype,"tabInfo",void 0),qt=Object(h["a"])([Object(g["a"])({components:{CodeEditor:Rt}})],qt);var Vt=qt,Xt=Vt,Ut=(n("7982"),Object(U["a"])(Xt,Ht,Yt,!1,null,"ee16f1ba",null)),Kt=Ut.exports,Zt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"VueFileEditor",class:e.mode},[n("div",{staticClass:"code-tool-bar top"},[n("span",{staticClass:"file-path"},[e._l(e.parentDirectorys,(function(t,i){return n("span",{key:i},[n("span",[e._v(e._s(t.name))]),n("span",[n("font-awesome-icon",{staticClass:"path-split-icon",attrs:{icon:["fas","chevron-right"]}})],1)])})),n("span",[n("span",[e._v(e._s(e.file.name))])])],2),n("span",{staticClass:"mode-btn-group"},[n("span",{staticClass:"mode-btn",class:{active:"design"===e.mode},on:{click:function(t){e.mode="design"}}},[e._v("设计")]),n("span",{staticClass:"mode-btn",class:{active:"code"===e.mode},on:{click:function(t){e.mode="code"}}},[e._v("代码")]),n("span",{staticClass:"mode-btn",class:{active:"design-code"===e.mode},on:{click:function(t){e.mode="design-code"}}},[e._v("拆分")])])]),n("AxisSpace",{ref:"axisSpace",staticClass:"axis-space",attrs:{handleDragover:e.handleDragover,handleDrop:e.handleDrop},nativeOn:{click:function(t){return e.clearSelected(t)},contextmenu:function(t){return t.preventDefault(),e.handleControllerContextmenuFn(t)}},scopedSlots:e._u([{key:"unscale",fn:function(){return e._l(e.widgetConfigs,(function(t,i){return n("WidgetController",{key:t.id||i,attrs:{widgetConfig:t,isSelectedWidgetConfigIdFn:e.isSelectedFn,selectWidgetConfigFn:e.selectWidgetConfigFn,handleControllerContextmenuFn:e.handleControllerContextmenuFn},nativeOn:{click:function(e){e.stopPropagation()}}})}))},proxy:!0}])},[e.pageConfig?n("PagePreviewer",{attrs:{pageConfig:e.pageConfig}}):e._e()],1),n("CodeEditor",{ref:"codeEditor",staticClass:"code-editor",on:{input:e.handleCodeInput},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1)},Qt=[],en=n("ade3"),tn=(n("ae26"),n("450d"),n("845f")),nn=n.n(tn),an=(n("1951"),n("eedf")),on=n.n(an),rn=(n("6611"),n("e772")),sn=n.n(rn),cn=(n("1f1a"),n("4e4b")),ln=n.n(cn),dn=(n("9e1f"),n("6ed5")),un=n.n(dn),fn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"AxisSpace",class:{draging:e.draging},on:{"&wheel":function(t){return e.handleWhell(t)},mousedown:function(t){return t.stopPropagation(),e.startDrag(t)},dragover:e.handleDragover,drop:e.handleDropInner}},[n("div",{staticClass:"x-axis"},[n("canvas",{ref:"xcanvas",attrs:{width:e.width,height:e.axisWidth}})]),n("div",{staticClass:"y-axis"},[n("canvas",{ref:"ycanvas",attrs:{width:e.axisWidth,height:e.height}})]),n("div",{ref:"content",staticClass:"content",style:e.contentStyle},[n("div",{staticClass:"default-solt",style:e.defaultSoltStyle},[e._t("default")],2)]),n("div",{staticClass:"unscale-layer",style:e.unscaleLayerStyle},[e._t("unscale")],2)])},pn=[],hn=(n("b680"),14999),gn=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){var e;return Object(d["a"])(this,n),e=t.apply(this,arguments),e.controllers=[],e.move=!1,e.scale=1,e.width=0,e.height=0,e.axisWidth=25,e.offsetX=50,e.offsetY=50,e.draging=!1,e.initialState=null,e}return Object(u["a"])(n,[{key:"axis",get:function(){return this}},{key:"defaultSoltStyle",get:function(){return{transform:"translate(".concat(this.offsetX*this.scale,"px, ").concat(this.offsetY*this.scale,"px) scale(").concat(this.scale,")"),transformOrigin:"left top"}}},{key:"unscaleLayerStyle",get:function(){var e=this.offsetX*this.scale+this.axisWidth,t=this.offsetY*this.scale+this.axisWidth;return{top:t+"px",left:e+"px"}}},{key:"contentStyle",get:function(){var e=100;this.scale<.5&&(e=1e3),this.scale>2&&(e=50),this.scale>3&&(e=20),this.scale>=5&&(e=10);var t=this.scale,n=document.createElement("canvas"),i=~~(e*t);n.width=i,n.height=i;var a=n.getContext("2d");if(a){a.strokeStyle="rgba(255,255,255,0.25)",a.lineWidth=1,a.moveTo(0,0),a.lineTo(i,0),a.lineTo(i,i),a.stroke(),a.strokeStyle="rgba(255,255,255,0.05)";for(var o=0;o<=9;o++)a.moveTo(o*i/10,0),a.lineTo(o*i/10,i),a.moveTo(0,o*i/10),a.lineTo(i,o*i/10);a.stroke()}var r=n.toDataURL();return{"background-image":"url(".concat(r,")"),"background-position-x":this.offsetX*t+.5+"px","background-position-y":this.offsetY*t+.5+"px","background-size":i+"px"}}},{key:"getAxisPosition",value:function(e){var t=this.$refs.content,n=t.getBoundingClientRect(),i=(e.clientX-n.x)/this.scale-this.offsetX,a=(e.clientY-n.y)/this.scale-this.offsetY;return{x:i,y:a}}},{key:"handleWhell",value:function(e){if(e.ctrlKey){var t=this.scale+-e.deltaY/1e3;t>8&&(t=8),t<.125&&(t=.125),this.scale=Number(t.toFixed(2))}}},{key:"handleDropInner",value:function(e){var t=this.$refs.content,n=t.getBoundingClientRect(),i=(e.clientX-n.x)/this.scale-this.offsetX,a=(e.clientY-n.y)/this.scale-this.offsetY;this.handleDrop(e,i,a)}},{key:"startDrag",value:function(e){this.dragable&&(this.draging=!0,this.initialState={offsetX:this.offsetX,offsetY:this.offsetY,clientX:e.clientX,clientY:e.clientY},document.addEventListener("mousemove",this.onMoving),document.addEventListener("mouseup",this.endDrag))}},{key:"checkOffset",value:function(){this.offsetX>hn&&(this.offsetX=hn),this.offsetX<-hn+this.width/this.scale&&(this.offsetX=-hn+this.width/this.scale),this.offsetY>hn&&(this.offsetY=hn),this.offsetY<-hn+this.height/this.scale&&(this.offsetY=-hn+this.height/this.scale)}},{key:"onMoving",value:function(e){var t=this.initialState,n=e.clientX-t.clientX,i=e.clientY-t.clientY;this.move=0!==n||0!==i,this.offsetX=Math.round(t.offsetX+n/this.scale),this.offsetY=Math.round(t.offsetY+i/this.scale),this.checkOffset()}},{key:"endDrag",value:function(e){var t=this;this.onMoving(e),delete this.initialState,this.draging=!1,window.setTimeout((function(){t.move=!1}),0),document.removeEventListener("mousemove",this.onMoving),document.removeEventListener("mouseup",this.endDrag)}},{key:"renderAxis",value:function(){var e=this;this.$nextTick((function(){var t=e.scale,n=e.$refs.xcanvas,i=n.getContext("2d"),a=e.$refs.ycanvas,o=a.getContext("2d");if(i&&o){i.clearRect(0,0,e.width,e.axisWidth),i.font="12px Arial",i.lineWidth=1,i.strokeStyle="#ffffff",i.fillStyle="#ffffff",i.textAlign="center",o.clearRect(0,0,e.height,e.axisWidth),o.font="12px Arial",o.lineWidth=1,o.strokeStyle="#ffffff",o.fillStyle="#ffffff",o.textAlign="center",o.setTransform(),o.translate(e.axisWidth,0),o.rotate(90*Math.PI/180);var r=100;e.scale<.5&&(r=1e3),e.scale>2&&(r=50),e.scale>3&&(r=20),e.scale>=5&&(r=10);for(var s=-e.offsetX,c=Math.floor(s/r)*r,l=0,d=c;l<=e.width+r;d+=r){l=(-s+d)*t+e.axisWidth,i.beginPath(),i.moveTo(l,20),i.lineTo(l,25),Math.abs(d)<hn&&i.fillText(String(d),l,15);for(var u=1;u<10;u++)i.moveTo(l+u*t*r/10,23),i.lineTo(l+u*t*r/10,25);i.stroke()}for(var f=0,p=-e.offsetY,h=Math.floor(p/r)*r,g=h;f<=e.height+r;g+=r){f=(-p+g)*t+e.axisWidth,o.beginPath(),o.moveTo(f,0),o.lineTo(f,5),Math.abs(g)<hn&&o.fillText(String(g),f,20);for(var b=1;b<10;b++)o.moveTo(f+b*t*r/10,0),o.lineTo(f+b*t*r/10,2);o.stroke()}i.clearRect(0,0,e.axisWidth,e.axisWidth),o.clearRect(0,0,e.axisWidth,e.axisWidth)}}))}},{key:"onResize",value:function(e){this.width=e.clientWidth,this.height=e.clientHeight}},{key:"mounted",value:function(){this.onResize(this.$el),Object(pe["a"])(this.$el,this.onResize)}},{key:"beforeDestroy",value:function(){Object(pe["b"])(this.$el,this.onResize)}}]),n}(g["g"]);Object(h["a"])([Object(g["e"])("axis")],gn.prototype,"axis",null),Object(h["a"])([Object(g["d"])({default:!0})],gn.prototype,"dragable",void 0),Object(h["a"])([Object(g["d"])({required:!1,default:!1})],gn.prototype,"inCombinationEditor",void 0),Object(h["a"])([Object(g["d"])({required:!1,default:function(){}})],gn.prototype,"handleDragover",void 0),Object(h["a"])([Object(g["d"])({required:!1,default:function(){}})],gn.prototype,"handleDrop",void 0),Object(h["a"])([Object(g["h"])("scale")],gn.prototype,"checkOffset",null),Object(h["a"])([Object(g["h"])("scale"),Object(g["h"])("width"),Object(g["h"])("height"),Object(g["h"])("offsetX"),Object(g["h"])("offsetY")],gn.prototype,"renderAxis",null),gn=Object(h["a"])([g["a"]],gn);var bn=gn,vn=bn,yn=(n("d8cd"),Object(U["a"])(vn,fn,pn,!1,null,"9e745704",null)),mn=yn.exports,jn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"VueFilePreviewer",style:{width:e.pageConfig.width+"px",height:e.pageConfig.height+"px",backgroundColor:e.pageConfig.bgColor}},e._l(e.widgetConfigs,(function(t,i){return n("WidgetWrapper",{key:t.id||i,attrs:{widgetConfig:t,getComponent:e.getComponent}})})),1)},On=[],Cn=n("d61c"),wn=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){return Object(d["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"widgetConfigs",get:function(){return this.pageConfig.widgetConfigs}},{key:"getComponent",value:function(e){return this.appEditor.getWidgetComponent(e)}}]),n}(g["g"]);Object(h["a"])([Object(g["b"])("app-editor")],wn.prototype,"appEditor",void 0),Object(h["a"])([Object(g["d"])()],wn.prototype,"pageConfig",void 0),wn=Object(h["a"])([Object(g["a"])({components:{WidgetWrapper:Cn["default"]}})],wn);var kn=wn,xn=kn,En=(n("9c3b"),Object(U["a"])(xn,jn,On,!1,null,"30ebdc5d",null)),_n=En.exports,In=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"WidgetController",class:{isSelected:e.isSelected,hasChildSelected:e.hasChildSelected,hasChildren:e.hasChildren},style:e.style,on:{mousedown:function(t){return e.startDrag(t,"move")},click:e.handleWidgetControllerClick}},[e.isSelected?[n("div",{staticClass:"position",class:{"anchor-right-top":"right-top"===e.baseConfig.anchor,"anchor-center":"center"===e.baseConfig.anchor,"anchor-right-bottom":"right-bottom"===e.baseConfig.anchor,"anchor-left-bottom":"left-bottom"===e.baseConfig.anchor,"anchor-center-top":"center-top"===e.baseConfig.anchor,"anchor-center-bottom":"center-bottom"===e.baseConfig.anchor,"anchor-left-center":"left-center"===e.baseConfig.anchor,"anchor-right-center":"right-center"===e.baseConfig.anchor}},[n("div",{staticClass:"x-line",style:{height:e.yLength+"px"}},[n("div",{staticClass:"value",style:{top:"5px"}},[e._v("X："+e._s(e.baseConfig.x))])]),n("div",{staticClass:"y-line",style:{width:e.xLength+"px"}},[n("div",{staticClass:"value",style:{left:"5px"}},[e._v("Y："+e._s(e.baseConfig.y))])]),e.autoSize?e._e():[n("span",{staticClass:"control-point top",on:{mousedown:function(t){return t.stopPropagation(),e.startDrag(t,"resize-top")}}}),n("span",{staticClass:"control-point left",on:{mousedown:function(t){return t.stopPropagation(),e.startDrag(t,"resize-left")}}}),n("span",{staticClass:"control-point right",on:{mousedown:function(t){return t.stopPropagation(),e.startDrag(t,"resize-right")}}}),n("span",{staticClass:"control-point bottom",on:{mousedown:function(t){return t.stopPropagation(),e.startDrag(t,"resize-bottom")}}}),n("span",{staticClass:"control-point top left",on:{mousedown:function(t){return t.stopPropagation(),e.startDrag(t,"resize-top-left")}}}),n("span",{staticClass:"control-point top right",on:{mousedown:function(t){return t.stopPropagation(),e.startDrag(t,"resize-top-right")}}}),n("span",{staticClass:"control-point bottom left",on:{mousedown:function(t){return t.stopPropagation(),e.startDrag(t,"resize-bottom-left")}}}),n("span",{staticClass:"control-point bottom right",on:{mousedown:function(t){return t.stopPropagation(),e.startDrag(t,"resize-bottom-right")}}})]],2)]:e._e(),n("div",{staticClass:"children"},e._l(e.children,(function(t,i){return n("WidgetController",{key:t.id||i,staticClass:"child",attrs:{widgetConfig:t,inGroup:!0,active:e.isSelected||e.hasChildSelected,isSelectedWidgetConfigIdFn:e.isSelectedWidgetConfigIdFn,selectWidgetConfigFn:e.selectWidgetConfigFn,handleControllerContextmenuFn:e.handleControllerContextmenuFn}})})),1)],2)},Sn=[],Nn=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){var e;return Object(d["a"])(this,n),e=t.apply(this,arguments),e.move=!1,e.dragModel="",e.initialState={x:0,y:0,width:0,height:0,clientX:0,clientY:0},e}return Object(u["a"])(n,[{key:"widgetDefinition",get:function(){return this.appEditor.getWidgetDefinitionBytag(this.widgetConfig._widgetTag)}},{key:"baseConfig",get:function(){return this.widgetConfig.base}},{key:"isSelected",get:function(){return this.isSelectedWidgetConfigIdFn(this.widgetConfig)}},{key:"hasChildSelected",get:function(){var e=this;return-1!==this.children.findIndex((function(t){return e.isSelectedWidgetConfigIdFn(t)}))}},{key:"autoSize",get:function(){var e;return(null===(e=this.widgetDefinition)||void 0===e?void 0:e.autoSize)||!1}},{key:"style",get:function(){var e,t=this.axis.scale,n=this.widgetConfig.base,i=this.widgetConfig._runtime,a=null===(e=this.widgetDefinition)||void 0===e?void 0:e.autoSize,o=a?i.w:n.w,r=a?i.h:n.h;o*=t,r*=t;var s={width:o+1+"px",height:r+1+"px",left:Math.round(n.x)*t-.5+"px",top:Math.round(n.y)*t-.5+"px",marginLeft:"",marginTop:""};return"right-top"===n.anchor&&(s.marginLeft="-".concat(o,"px")),"center"===n.anchor&&(s.marginLeft="-".concat(o/2,"px"),s.marginTop="-".concat(r/2,"px")),"left-bottom"===n.anchor&&(s.marginTop="-".concat(r,"px")),"right-bottom"===n.anchor&&(s.marginLeft="-".concat(o,"px"),s.marginTop="-".concat(r,"px")),"center-top"===n.anchor&&(s.marginLeft="-".concat(o/2,"px")),"center-bottom"===n.anchor&&(s.marginLeft="-".concat(o/2,"px"),s.marginTop="-".concat(r,"px")),"left-center"===n.anchor&&(s.marginTop="-".concat(r/2,"px")),"right-center"===n.anchor&&(s.marginLeft="-".concat(o,"px"),s.marginTop="-".concat(r/2,"px")),s}},{key:"xLength",get:function(){var e=this.axis.scale,t=this.baseConfig,n=t.anchor,i=t.x,a=this.axis.offsetX,o=0;return"center"!==n&&"center-top"!==n&&"center-bottom"!==n||(o=t.w/2),"right-top"!==n&&"right-bottom"!==n&&"right-center"!==n||(o=t.w/2),this.inGroup?(i-o)*e:(i+a-o)*e}},{key:"yLength",get:function(){var e=this.axis.scale,t=this.baseConfig,n=t.anchor,i=t.y,a=this.axis.offsetY,o=0;return"center"!==n&&"center-top"!==n&&"center-bottom"!==n||(o=t.h/2),"right-top"!==n&&"right-bottom"!==n&&"right-center"!==n||(o=t.h/2),this.inGroup?(i-o)*e:(i+a-o)*e}},{key:"children",get:function(){return this.widgetConfig.children}},{key:"hasChildren",get:function(){return this.widgetConfig.children.length>0}},{key:"startDrag",value:function(e,t){var n=this;if(this.isSelected){this.doStartDrag(e,t);var i,a=this.axis.controllers,o=Object(m["a"])(a);try{for(o.s();!(i=o.n()).done;){var r=i.value;r!==this&&r.isSelected&&(null===r||void 0===r||r.doStartDrag(e,t))}}catch(d){o.e(d)}finally{o.f()}if(this.inGroup){var s=this.$parent,c=function(){if(n.inGroup){var e=s.baseConfig.x,t=s.baseConfig.y;s.recomputation();var i=s.baseConfig.x-e,o=s.baseConfig.y-t;a.forEach((function(e){var t=e.initialState;t&&(t.x-=i,t.y-=o)}))}},l=function e(){document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",e)};document.addEventListener("mousemove",c,{passive:!0}),document.addEventListener("mouseup",l,{passive:!0})}}}},{key:"doStartDrag",value:function(e,t){"move"===t&&e.stopPropagation(),this.dragModel=t,this.initialState={x:this.widgetConfig.base.x,y:this.widgetConfig.base.y,width:this.widgetConfig.base.w,height:this.widgetConfig.base.h,clientX:e.clientX,clientY:e.clientY},document.addEventListener("mousemove",this.onMoving,{passive:!0}),document.addEventListener("mouseup",this.endDrag,{passive:!0})}},{key:"endDrag",value:function(e){var t=this;this.onMoving(e),this.initialState={x:0,y:0,width:0,height:0,clientX:0,clientY:0},this.dragModel="",window.setTimeout((function(){t.move=!1}),0),document.removeEventListener("mousemove",this.onMoving),document.removeEventListener("mouseup",this.endDrag)}},{key:"onMoving",value:function(e){var t=this.initialState,n=this.widgetConfig.base,i=this.axis.scale,a=e.clientX-t.clientX,o=e.clientY-t.clientY,r="top",s="left";"right-top"===n.anchor&&(s="right"),"center"===n.anchor&&(r="center",s="center"),"left-bottom"===n.anchor&&(r="bottom"),"right-bottom"===n.anchor&&(s="right",r="bottom"),"center-top"===n.anchor&&(s="center",r="top"),"center-bottom"===n.anchor&&(s="center",r="bottom"),"left-center"===n.anchor&&(s="left",r="center"),"right-center"===n.anchor&&(s="right",r="center"),this.move=0!==a||0!==o,"move"===this.dragModel&&(this.widgetConfig.base.x=Number((t.x+a/i).toFixed()),this.widgetConfig.base.y=Number((t.y+o/i).toFixed())),"resize-top"!==this.dragModel&&"resize-top-left"!==this.dragModel&&"resize-top-right"!==this.dragModel||(o>=t.height*i&&(o=t.height*i),"top"===r&&(this.widgetConfig.base.y=Number((t.y+o/i).toFixed())),this.widgetConfig.base.h=Number((t.height-o/i).toFixed())),"resize-bottom"!==this.dragModel&&"resize-bottom-left"!==this.dragModel&&"resize-bottom-right"!==this.dragModel||(o<-t.height*i&&(o=-t.height*i),"bottom"===r&&(this.widgetConfig.base.y=Number((t.y+o/i).toFixed())),this.widgetConfig.base.h=Number((t.height+o/i).toFixed())),"resize-left"!==this.dragModel&&"resize-top-left"!==this.dragModel&&"resize-bottom-left"!==this.dragModel||(a>=t.width*i&&(a=t.width*i),"left"===s&&(this.widgetConfig.base.x=Number((t.x+a/i).toFixed())),this.widgetConfig.base.w=Number((t.width-a/i).toFixed())),"resize-right"!==this.dragModel&&"resize-top-right"!==this.dragModel&&"resize-bottom-right"!==this.dragModel||(a<-t.width*i&&(a=-t.width*i),"right"===s&&(this.widgetConfig.base.x=Number((t.x+a/i).toFixed())),this.widgetConfig.base.w=Number((t.width+a/i).toFixed()))}},{key:"childrenChange",value:function(){var e=this;window.setTimeout((function(){e.recomputation()}))}},{key:"recomputation",value:function(){if(this.children.length>0){var e=this.children,t=function(e){return"right-top"===e.base.anchor||"right-center"===e.base.anchor||"right-bottom"===e.base.anchor?e.base.x-e._runtime.w:"center-top"===e.base.anchor||"center"===e.base.anchor||"center-bottom"===e.base.anchor?e.base.x-e._runtime.w/2:e.base.x},n=function(e){return"left-bottom"===e.base.anchor||"center-bottom"===e.base.anchor||"right-bottom"===e.base.anchor?e.base.y-e._runtime.h:"left-center"===e.base.anchor||"center"===e.base.anchor||"right-center"===e.base.anchor?e.base.y-e._runtime.h/2:e.base.y},i=Math.min.apply(Math,Object(y["a"])(e.map(t))),a=Math.min.apply(Math,Object(y["a"])(e.map(n)));this.widgetConfig.base.x+=i,this.widgetConfig.base.y+=a;var o,r=Object(m["a"])(e);try{for(r.s();!(o=r.n()).done;){var s=o.value;s.base.x-=i,s.base.y-=a}}catch(d){r.e(d)}finally{r.f()}i=Math.min.apply(Math,Object(y["a"])(e.map(t))),a=Math.min.apply(Math,Object(y["a"])(e.map(n)));var c=Math.max.apply(Math,Object(y["a"])(e.map((function(e){var n=e._runtime.w;return t(e)+n})))),l=Math.max.apply(Math,Object(y["a"])(e.map((function(e){var t=e._runtime.h;return n(e)+t}))));this.widgetConfig._runtime.w=c-i,this.widgetConfig._runtime.h=l-a}}},{key:"handleWidgetControllerClick",value:function(e){var t=!1,n=this;while(!t&&n&&"boolean"===typeof n.move)t=n.move,n=n.$parent||null;t?e.stopPropagation():this.active&&(e.stopPropagation(),this.selectWidgetConfigFn(this.widgetConfig,e.ctrlKey))}},{key:"created",value:function(){this.axis.controllers.push(this)}},{key:"destroyed",value:function(){var e=this.axis.controllers,t=e.indexOf(this);t>=0&&e.splice(t,1)}}]),n}(g["g"]);Object(h["a"])([Object(g["b"])("app-editor")],Nn.prototype,"appEditor",void 0),Object(h["a"])([Object(g["b"])("axis")],Nn.prototype,"axis",void 0),Object(h["a"])([Object(g["d"])()],Nn.prototype,"widgetConfig",void 0),Object(h["a"])([Object(g["d"])({required:!1,default:function(){return!1}})],Nn.prototype,"isSelectedWidgetConfigIdFn",void 0),Object(h["a"])([Object(g["d"])({required:!1,default:function(){return!1}})],Nn.prototype,"selectWidgetConfigFn",void 0),Object(h["a"])([Object(g["d"])({required:!1,default:function(){}})],Nn.prototype,"handleControllerContextmenuFn",void 0),Object(h["a"])([Object(g["d"])({required:!1,default:!1})],Nn.prototype,"inGroup",void 0),Object(h["a"])([Object(g["d"])({required:!1,default:!0})],Nn.prototype,"active",void 0),Object(h["a"])([Object(g["h"])("children",{immediate:!0})],Nn.prototype,"childrenChange",null),Nn=Object(h["a"])([Object(g["a"])({name:"WidgetController"})],Nn);var Wn,Tn=Nn,Dn=Tn,Pn=(n("d30e"),Object(U["a"])(Dn,In,Sn,!1,null,"d52876d4",null)),Ln=Pn.exports,An=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){var e;return Object(d["a"])(this,n),e=t.apply(this,arguments),e.mode="design",e}return Object(u["a"])(n,[{key:"fileEditableObject",get:function(){return this.tabInfo.object}},{key:"parentPath",get:function(){return this.fileEditableObject.parentPath}},{key:"parentDirectorys",get:function(){var e=Object(y["a"])(this.fileEditableObject.parentDirectorys);return e.shift(),e}},{key:"file",get:function(){return this.fileEditableObject.file}},{key:"content",get:function(){return this.file.content},set:function(e){this.file.content=e}},{key:"fileHandler",get:function(){return this.fileEditableObject.fileHandler}},{key:"pageConfig",get:function(){return this.fileHandler.pageConfig}},{key:"widgetConfigs",get:function(){var e;return(null===(e=this.pageConfig)||void 0===e?void 0:e.widgetConfigs)||[]}},{key:"selectedWidgetConfigs",get:function(){return this.fileHandler.selectedWidgetConfigs}},{key:"selectedAncestors",get:function(){return this.fileHandler.selectedAncestors}},{key:"tabInfoKey",get:function(){var e=this.tabInfo;return"".concat(e.editor.name,":").concat(e.object.id)}},{key:"selectWidgetConfigFn",value:function(e,t){this.codeEditor.focusCode(e._code),this.fileHandler.selectWidgetConfig(e.id,t)}},{key:"isSelectedFn",value:function(e){return this.fileHandler.isSelectedWidgetConfigId(e.id)}},{key:"handleControllerContextmenuFn",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n,i,a,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pt["a"]();case 2:i=e.sent,a=[{name:"剪切",disable:!this.fileHandler.hasSelected,handler:function(){o.fileHandler.copySelectedWidgetConfig(),o.fileHandler.deleteAllSelectedWidgetConfig()}},{name:"复制",disable:!this.fileHandler.hasSelected,handler:function(){o.fileHandler.copySelectedWidgetConfig()}},{name:"粘贴",disable:!i,handler:function(e){var t=o.axisSpace.getAxisPosition(e),n=t.x,i=t.y;o.fileHandler.pasteWidgetConfig(Math.round(n),Math.round(i))}},{name:"删除",disable:!this.fileHandler.hasSelected,handler:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,un.a.confirm("是否删除选中的组件？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 3:o.fileHandler.deleteAllSelectedWidgetConfig(),e.next=8;break;case 6:e.prev=6,e.t0=e["catch"](0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));function t(){return e.apply(this,arguments)}return t}()},{name:"split-line",disable:!0},{name:"锁定",disable:!0},{name:"隐藏",disable:!0},{name:"编组",disable:!this.fileHandler.hasSelected,handler:function(){return o.fileHandler.groupSelectedWidgetConfigs()}},{name:"取消编组",disable:!("WidgetGroup"===(null===(n=this.fileHandler.singleSelectedWidgetConfig)||void 0===n?void 0:n._widgetTag)),handler:function(){return o.fileHandler.ungroupSelectedWidgetConfigs()}},{name:"split-line"},{name:"置为顶层",disable:!0},{name:"上移一层",disable:!0},{name:"下移一层",disable:!0},{name:"置为底层",disable:!0}],this.appEditor.openContextmenu(t,a);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handleCodeInput",value:function(){this.fileHandler.updatePageConfig()}},{key:"handleDragover",value:function(e){e.dataTransfer&&-1!==e.dataTransfer.types.indexOf("widgetDefinitionTag".toLowerCase())&&e.preventDefault()}},{key:"handleDrop",value:function(e,t,n){if(e.dataTransfer){var i=e.dataTransfer.getData("widgetDefinitionTag".toLowerCase()),a=this.appEditor.getWidgetDefinitionBytag(i);a&&this.fileHandler.addWidget(a,t,n)}}},{key:"clearSelected",value:function(){this.fileHandler.clearSelected()}},{key:"handleKeydown",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.active){e.next=2;break}return e.abrupt("return");case 2:console.log(t);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handleKeyup",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.active){e.next=2;break}return e.abrupt("return");case 2:console.log(t);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"mounted",value:function(){document.addEventListener("keydown",this.handleKeydown),document.addEventListener("keyup",this.handleKeyup),this.$emit("mounted")}},{key:"beforeDestroy",value:function(){document.removeEventListener("keydown",this.handleKeydown),document.removeEventListener("keyup",this.handleKeyup)}}]),n}(g["g"]);Object(h["a"])([Object(g["b"])("app-editor")],An.prototype,"appEditor",void 0),Object(h["a"])([Object(g["d"])({required:!0})],An.prototype,"tabInfo",void 0),Object(h["a"])([Object(g["d"])({default:!1})],An.prototype,"active",void 0),Object(h["a"])([Object(g["f"])()],An.prototype,"codeEditor",void 0),Object(h["a"])([Object(g["f"])()],An.prototype,"axisSpace",void 0),An=Object(h["a"])([Object(g["a"])({components:(Wn={AxisSpace:mn,CodeEditor:Rt,PagePreviewer:_n,WidgetController:Ln,FontAwesomeIcon:D["a"]},Object(en["a"])(Wn,ln.a.name,ln.a),Object(en["a"])(Wn,sn.a.name,sn.a),Object(en["a"])(Wn,on.a.name,on.a),Object(en["a"])(Wn,nn.a.name,nn.a),Wn)})],An);var Mn=An,$n=Mn,Rn=(n("ce66"),Object(U["a"])($n,Zt,Qt,!1,null,"ed38e9a6",null)),zn=Rn.exports,Fn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"FileEditor"},[n("div",{staticClass:"body"},[n("img",{attrs:{src:e.base64Url}})])])},Gn=[],Jn=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){return Object(d["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"fileEditableObject",get:function(){return this.tabInfo.object}},{key:"file",get:function(){return this.fileEditableObject.file}},{key:"content",get:function(){return this.file.content},set:function(e){this.file.content=e}},{key:"base64",get:function(){return this.file.base64}},{key:"base64Url",get:function(){return"data:image/png;base64,"+this.base64}},{key:"tabInfoKey",get:function(){var e=this.tabInfo;return"".concat(e.editor.name,":").concat(e.object.id)}}]),n}(g["g"]);Object(h["a"])([Object(g["d"])({required:!0})],Jn.prototype,"tabInfo",void 0),Jn=Object(h["a"])([Object(g["a"])({components:{}})],Jn);var Bn=Jn,Hn=Bn,Yn=(n("4ed1"),Object(U["a"])(Hn,Fn,Gn,!1,null,"23761ea8",null)),qn=Yn.exports,Vn=[{name:"Vue文件",constructor:Et,editors:[zn],fileSuffix:"vue",icon:["fab","vuejs"],color:"#3fb884"},{name:"PNG 文件",constructor:Et,editors:[qn],fileSuffix:"png",icon:["far","file-image"],color:"#30f8f4"},{name:"文件",constructor:Et,editors:[Bt],icon:["far","file"],color:"#ff6600"},{name:"设定",constructor:It,editors:[Kt],icon:["fas","cogs"],color:"#0066ff"}];function Xn(e){var t=Vn.find((function(t){var n=e instanceof t.constructor,i=!t.fileSuffix||e.displayName.endsWith(t.fileSuffix);return n&&i}));return t}function Un(e){var t=Xn(e);return(null===t||void 0===t?void 0:t.editors[0])||Bt}var Kn=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){return Object(d["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"object",get:function(){return this.tabInfo.object}},{key:"isPreview",get:function(){return this.tabInfo.isPreview}},{key:"objectName",get:function(){return this.object.displayName}},{key:"editableObjectTypeInfo",get:function(){return Xn(this.object)}},{key:"handleCloseBtnClick",value:function(){this.$emit("close")}}]),n}(g["g"]);Object(h["a"])([Object(g["d"])()],Kn.prototype,"tabInfo",void 0),Object(h["a"])([Object(g["d"])()],Kn.prototype,"active",void 0),Kn=Object(h["a"])([Object(g["a"])({components:{FontAwesomeIcon:D["a"]}})],Kn);var Zn=Kn,Qn=Zn,ei=(n("2d72"),Object(U["a"])(Qn,ct,lt,!1,null,"30f7fe45",null)),ti=ei.exports,ni=n("b76a"),ii=n.n(ni),ai=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){var e;return Object(d["a"])(this,n),e=t.apply(this,arguments),e.tabInfos=[],e.currentTabInfo=null,e}return Object(u["a"])(n,[{key:"openObjectEditor",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t=t||Un(e);var a={object:e,editor:t,isPreview:i},o=this.tabInfos.find((function(e){return n.tabInfoEqual(e,a)}));if(i){if(!o){var r=this.tabInfos.findIndex((function(e){return e.isPreview}));r>-1&&this.tabInfos.splice(r,1),this.tabInfos.push(a)}this.currentTabInfo=o||a}else{var s=this.tabInfos.find((function(e){return n.tabInfoEqual(e,a)}));s?s.isPreview=!1:this.tabInfos.push(a),this.currentTabInfo=s||a}this.scrollTo(a)}},{key:"closeTabInfo",value:function(e){var t=this,n=this.tabInfos.findIndex((function(n){return t.tabInfoEqual(n,e)}));n>-1&&this.tabInfos.splice(n,1),this.currentTabInfo&&this.tabInfoEqual(this.currentTabInfo,e)&&(this.currentTabInfo=this.tabInfos[n-1]||this.tabInfos[n]||this.tabInfos[0]||null)}},{key:"scrollTo",value:function(e){var t=this.getTabInfoKey(e),n=this.$refs[t],i=this.tabs;if(null!==n&&void 0!==n&&n.length){var a,o=null===(a=n[0])||void 0===a?void 0:a.$el,r=o.getBoundingClientRect(),s=i.getBoundingClientRect(),c=i.scrollLeft;i.scrollTo({left:c+r.x-s.x})}}},{key:"handleCurrentTabInfoChange",value:function(e){this.$emit("change",null===e||void 0===e?void 0:e.object)}},{key:"handleClose",value:function(e){this.closeTabInfo(e)}},{key:"handleClick",value:function(e){this.openObjectEditor(e.object,e.editor,!0)}},{key:"handleDbClick",value:function(e){this.openObjectEditor(e.object,e.editor)}},{key:"handleWhell",value:function(e){var t=e.deltaY/5,n=this.tabs,i=n.scrollLeft;n.scrollTo({left:i+t})}},{key:"getTabInfoKey",value:function(e){return"".concat(e.editor.name,":").concat(e.object.id)}},{key:"tabInfoEqual",value:function(e,t){return e.object===t.object&&e.editor===t.editor}}]),n}(g["g"]);Object(h["a"])([Object(g["f"])()],ai.prototype,"tabs",void 0),Object(h["a"])([Object(g["h"])("currentTabInfo")],ai.prototype,"handleCurrentTabInfoChange",null),ai=Object(h["a"])([Object(g["a"])({components:{"vue-drag":ii.a,ObjectEditorTab:ti}})],ai);var oi=ai,ri=oi,si=(n("fedc"),Object(U["a"])(ri,rt,st,!1,null,"eb80dede",null)),ci=si.exports,li=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"FileExplorer"},[n("DirectoryItem",{attrs:{directory:e.rootDirectory,root:!0,selected:e.selected}})],1)},di=[],ui=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"DirectoryItem",class:{root:e.root},on:{contextmenu:function(t){return t.stopPropagation(),t.preventDefault(),e.handleContextmenu(t)}}},[e.root?e._e():n("div",{staticClass:"directory",class:{expanded:e.expanded},on:{click:function(t){e.expanded=!e.expanded}}},[n("font-awesome-icon",{staticClass:"arrow-icon",attrs:{icon:e.expanded?["fas","chevron-down"]:["fas","chevron-right"]}}),n("font-awesome-icon",{staticClass:"icon expanded",attrs:{icon:e.expanded?["fas","folder-open"]:["fas","folder"]}}),n("NameEditor",{ref:"nameEditor",staticClass:"name",model:{value:e.directory.name,callback:function(t){e.$set(e.directory,"name",t)},expression:"directory.name"}})],1),e.expanded||e.root?n("div",{class:e.root?"":"children",on:{contextmenu:function(e){e.stopPropagation(),e.preventDefault()}}},[n("CreateNew",{ref:"directoryCreateNew",attrs:{isDirectory:!0}}),e._l(e.directorys,(function(t){return n("DirectoryItem",{key:t.name,attrs:{selected:e.selected,directory:t}})})),n("CreateNew",{ref:"fileCreateNew"}),e._l(e.files,(function(t){return n("FileItem",{key:t.name,attrs:{selected:e.selected,file:t}})}))],2):e._e()])},fi=[],pi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"FileItem",class:{"is-selected":e.isSelected},on:{click:e.handleClick,dblclick:e.handleDbClick,contextmenu:function(t){return t.stopPropagation(),t.preventDefault(),e.handleContextmenu(t)}}},[n("font-awesome-icon",{staticClass:"object-type-icon",style:{color:e.iconColor},attrs:{icon:e.icon}}),n("NameEditor",{ref:"nameEditor",staticClass:"name",model:{value:e.file.name,callback:function(t){e.$set(e.file,"name",t)},expression:"file.name"}}),n("div",{staticClass:"background"})],1)},hi=[],gi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"NameEditor",class:e.error?"error":""},[n("span",{directives:[{name:"show",rawName:"v-show",value:!e.inputShowed,expression:"!inputShowed"}],staticClass:"value"},[e._v(e._s(e.value)+" ")]),n("input",{directives:[{name:"show",rawName:"v-show",value:e.inputShowed,expression:"inputShowed"},{name:"model",rawName:"v-model",value:e.innerValue,expression:"innerValue"}],ref:"input",attrs:{type:"text"},domProps:{value:e.innerValue},on:{blur:e.handelBlur,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleEnter(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.handeleEsc(t)},function(e){e.stopPropagation()}],input:function(t){t.target.composing||(e.innerValue=t.target.value)}}}),e.error&&e.inputShowed?n("div",{staticClass:"error"},[e._v(e._s(e.error))]):e._e()])},bi=[];n("466d");function vi(e){if(!e&&e.length<=255)return!1;var t=/[^\s\\/:*?"<>|]?(\x20|[^\s\\/:*?"<>|])*[^\s\\/:*?"<>|.]$/;return e.match(t)}var yi=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){var e;return Object(d["a"])(this,n),e=t.apply(this,arguments),e.innerValue="123",e.inputShowed=!1,e}return Object(u["a"])(n,[{key:"error",get:function(){var e=this;if(!vi(this.innerValue))return"文件名不合法";var t=this.$parent,n=t.siblings;return n.find((function(t){return t.name===e.innerValue}))?"当前位置已存在文件夹或文件"+this.innerValue:""}},{key:"inputShowedChange",value:function(){this.inputShowed||this.$emit("hidden")}},{key:"startInput",value:function(){var e=this;this.inputShowed=!0,this.$nextTick((function(){e.innerValue=e.value,e.$refs.input.focus()}))}},{key:"handleIconClick",value:function(){this.startInput()}},{key:"handleEnter",value:function(){this.error||(this.inputShowed=!1)}},{key:"handeleEsc",value:function(){this.$refs.input.blur()}},{key:"handelBlur",value:function(){var e=this;this.$el.scrollTo(0,0),this.value===this.innerValue||this.error||this.changeName(),this.innerValue=this.value,window.setTimeout((function(){e.inputShowed=!1}))}},{key:"changeName",value:function(){this.$emit("input",this.innerValue)}},{key:"created",value:function(){this.innerValue=this.value}}]),n}(g["g"]);Object(h["a"])([Object(g["d"])({type:String,required:!0})],yi.prototype,"value",void 0),Object(h["a"])([Object(g["h"])("inputShowed")],yi.prototype,"inputShowedChange",null),yi=Object(h["a"])([Object(g["a"])({components:{FontAwesomeIcon:D["a"]}})],yi);var mi=yi,ji=mi,Oi=(n("5bd4"),Object(U["a"])(ji,gi,bi,!1,null,"3bd9fab4",null)),Ci=Oi.exports,wi=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){return Object(d["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"isSelected",get:function(){return-1!==this.selected.indexOf(this.file)}},{key:"siblings",get:function(){var e=this;if(this.$parent instanceof zi){var t=this.$parent.directory.directorys,n=this.$parent.directory.files;return[].concat(Object(y["a"])(t),Object(y["a"])(n.filter((function(t){return t!==e.file}))))}return[]}},{key:"fileEditableObject",get:function(){return this.appEditor.fileEditableObjectMap.get(this.file)}},{key:"info",get:function(){return this.fileEditableObject?Xn(this.fileEditableObject):null}},{key:"icon",get:function(){var e;return(null===(e=this.info)||void 0===e?void 0:e.icon)||["far","file"]}},{key:"iconColor",get:function(){var e;return(null===(e=this.info)||void 0===e?void 0:e.color)||"#cd853f"}},{key:"handleContextmenu",value:function(e){var t=this,n=[{name:"打开",handler:function(){}},{name:"复制路径",handler:function(){}},{name:"split-line"},{name:"重命名",handler:function(){t.nameEditor.startInput()}},{name:"删除",handler:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,un.a.confirm("是否删除文件夹 ".concat(t.file.name," ！"),"警告");case 3:t.remove(),e.next=8;break;case 6:e.prev=6,e.t0=e["catch"](0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));function n(){return e.apply(this,arguments)}return n}()}];this.appEditor.openContextmenu(e,n)}},{key:"handleClick",value:function(){this.fileEditableObject&&this.appEditor.openObjectEditor(this.fileEditableObject,null,!0)}},{key:"handleDbClick",value:function(){this.fileEditableObject&&this.appEditor.openObjectEditor(this.fileEditableObject)}},{key:"remove",value:function(){var e=this.$parent,t=e.directory.files,n=t.indexOf(this.file);n>=0&&t.splice(n,1)}}]),n}(g["g"]);Object(h["a"])([Object(g["b"])("app-editor")],wi.prototype,"appEditor",void 0),Object(h["a"])([Object(g["f"])()],wi.prototype,"nameEditor",void 0),Object(h["a"])([Object(g["d"])()],wi.prototype,"file",void 0),Object(h["a"])([Object(g["d"])()],wi.prototype,"selected",void 0),wi=Object(h["a"])([Object(g["a"])({components:{FontAwesomeIcon:D["a"],NameEditor:Ci}})],wi);var ki=wi,xi=ki,Ei=(n("4a2c"),Object(U["a"])(xi,pi,hi,!1,null,"06a09dc8",null)),_i=Ei.exports,Ii=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"CreateNew"},[e.isDirectory?[n("font-awesome-icon",{staticClass:"arrow-icon",attrs:{icon:["fas","chevron-right"]}}),n("font-awesome-icon",{staticClass:"icon",attrs:{icon:["fas","folder"]}}),n("NameEditor",{ref:"nameEditor",staticClass:"name",on:{input:e.handleInput,hidden:function(t){return e.close()}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})]:[n("font-awesome-icon",{staticClass:"file-icon",attrs:{icon:["far","file"]}}),n("NameEditor",{ref:"nameEditor",staticClass:"name",on:{input:e.handleInput,hidden:function(t){return e.close()}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})]],2)},Si=[],Ni=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){var e;return Object(d["a"])(this,n),e=t.apply(this,arguments),e.show=!1,e.name="",e}return Object(u["a"])(n,[{key:"siblings",get:function(){if(this.$parent instanceof zi){var e=this.$parent.directory.directorys,t=this.$parent.directory.files;return[].concat(Object(y["a"])(e),Object(y["a"])(t))}return[]}},{key:"open",value:function(){var e=this;this.name=this.isDirectory?"newFolder":"newFile",this.show=!0,this.$nextTick((function(){var t=e.$refs.nameEditor;t.startInput()}))}},{key:"close",value:function(){this.show=!1,this.name=""}},{key:"handleInput",value:function(){if(this.show=!1,this.$parent instanceof zi){var e=this.$parent.directory.directorys,t=this.$parent.directory.files;if(this.isDirectory){var n=new B;n.name=this.name,e.push(n)}else{var i=new G;i.name=this.name,t.push(i)}}}}]),n}(g["g"]);Object(h["a"])([Object(g["d"])({default:!1})],Ni.prototype,"isDirectory",void 0),Ni=Object(h["a"])([Object(g["a"])({components:{FontAwesomeIcon:D["a"],NameEditor:Ci}})],Ni);var Wi,Ti=Ni,Di=Ti,Pi=(n("8604"),Object(U["a"])(Di,Ii,Si,!1,null,"3b721d66",null)),Li=Pi.exports,Ai=Wi=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){var e;return Object(d["a"])(this,n),e=t.apply(this,arguments),e.expanded=!1,e}return Object(u["a"])(n,[{key:"siblings",get:function(){var e=this;if(this.$parent instanceof Wi){var t=this.$parent.directory.directorys,n=this.$parent.directory.files;return[].concat(Object(y["a"])(t.filter((function(t){return t!==e.directory}))),Object(y["a"])(n))}return[]}},{key:"directorys",get:function(){return this.directory.directorys}},{key:"files",get:function(){return this.directory.files}},{key:"handleContextmenu",value:function(e){var t=this,n=[{name:"新建文件",handler:function(){t.openCrfeateNew("file")}},{name:"新建文件夹",handler:function(){t.openCrfeateNew("directory")}},{name:"split-line"},{name:"文件夹内查找",handler:function(){}},{name:"复制路径",handler:function(){}}];this.root||n.push({name:"split-line"},{name:"重命名",handler:function(){t.nameEditor.startInput()}},{name:"删除",handler:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,un.a.confirm("是否删除文件 ".concat(t.directory.name," ！"),"警告");case 3:t.remove(),e.next=8;break;case 6:e.prev=6,e.t0=e["catch"](0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));function n(){return e.apply(this,arguments)}return n}()}),this.appEditor.openContextmenu(e,n)}},{key:"blur",value:function(){var e=this.$refs.newInput;e.blur()}},{key:"openCrfeateNew",value:function(e){var t=this;this.expanded=!0,this.$nextTick((function(){var n;n="directory"===e?t.$refs.directoryCreateNew:t.$refs.fileCreateNew,n.open()}))}},{key:"remove",value:function(){var e=this.$parent,t=e.directory.directorys,n=t.indexOf(this.directory);n>=0&&t.splice(n,1)}}]),n}(g["g"]);Object(h["a"])([Object(g["b"])("app-editor")],Ai.prototype,"appEditor",void 0),Object(h["a"])([Object(g["f"])()],Ai.prototype,"nameEditor",void 0),Object(h["a"])([Object(g["d"])()],Ai.prototype,"directory",void 0),Object(h["a"])([Object(g["d"])()],Ai.prototype,"selected",void 0),Object(h["a"])([Object(g["d"])({required:!1,default:!1})],Ai.prototype,"root",void 0),Ai=Wi=Object(h["a"])([Object(g["a"])({name:"DirectoryItem",components:{FontAwesomeIcon:D["a"],FileItem:_i,NameEditor:Ci,CreateNew:Li}})],Ai);var Mi=Ai,$i=Mi,Ri=(n("8e99"),Object(U["a"])($i,ui,fi,!1,null,"6b29063d",null)),zi=Ri.exports,Fi=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){var e;return Object(d["a"])(this,n),e=t.apply(this,arguments),e.selected=[],e}return Object(u["a"])(n,[{key:"project",get:function(){return this.appEditor.project}},{key:"rootDirectory",get:function(){return this.project.rootDirectory}}]),n}(g["g"]);Object(h["a"])([Object(g["b"])("app-editor")],Fi.prototype,"appEditor",void 0),Fi=Object(h["a"])([Object(g["a"])({components:{DirectoryItem:zi}})],Fi);var Gi=Fi,Ji=Gi,Bi=(n("7581"),Object(U["a"])(Ji,li,di,!1,null,"5b23d67c",null)),Hi=Bi.exports,Yi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"Hierarchy"},[e.pageConfig?n("div",[n("vue-drag",{staticClass:"scroll-view",attrs:{group:"widgetConfigs",handle:".label",bubbleScroll:!1,animation:150},on:{change:e.handleChange},model:{value:e.widgetConfigs,callback:function(t){e.widgetConfigs=t},expression:"widgetConfigs"}},e._l(e.widgetConfigs,(function(e){return n("div",{key:e.id},[n("WidgetConfigNode",{attrs:{widgetConfig:e}})],1)})),0)],1):e._e()])},qi=[],Vi=(n("10cb"),n("f3ad")),Xi=n.n(Vi),Ui=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"WidgetConfigNode",class:{"is-selected":e.isSelected,"is-selected-ancestor":e.isSelectedAncestor},on:{click:function(t){return t.stopPropagation(),e.handleClick(t)}}},[n("div",{staticClass:"label"},[n("span",{staticClass:"button"},[n("font-awesome-icon",{staticClass:"button-icon",attrs:{icon:["fa","eye"]}})],1),n("span",{staticClass:"button"},[n("font-awesome-icon",{staticClass:"button-icon lock",attrs:{icon:["fa","lock"]}})],1),n("span",{staticClass:"title",style:{"padding-left":15*e.level+"px"}},[e.hasChildren?n("span",{staticClass:"expand-button",on:{click:function(t){e.expanded=!e.expanded}}},[e.expanded?n("font-awesome-icon",{staticClass:"button-icon",attrs:{icon:["fa","chevron-down"]}}):n("font-awesome-icon",{staticClass:"button-icon",attrs:{icon:["fa","chevron-right"]}})],1):n("span",{staticClass:"expand-button"}),n("span",{staticClass:"name"},[n("TxtEditor",{attrs:{"trigger-mode":"dbclick"},model:{value:e.widgetConfig.name,callback:function(t){e.$set(e.widgetConfig,"name",t)},expression:"widgetConfig.name"}})],1),n("span",{staticClass:"select-handler"},[n("font-awesome-icon",{staticClass:"select-handler-icon",attrs:{icon:["far","square"]}})],1)])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.expanded,expression:"expanded"}],staticClass:"children"},[n("vue-drag",{staticClass:"scroll-view",attrs:{group:"widgetConfigs",handle:".label",bubbleScroll:!1,animation:150},on:{change:e.handleChange},model:{value:e.children,callback:function(t){e.children=t},expression:"children"}},e._l(e.children,(function(t){return n("WidgetConfigNode",{key:t.id,attrs:{widgetConfig:t,level:e.level+1}})})),1)],1)])},Ki=[],Zi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"TxtEditor",attrs:{title:"dbclick"===e.triggerMode?"双击编辑":""},on:{dblclick:e.handleDbclick}},[e.inputShowed?e._e():n("span",{staticClass:"value"},[e._v(e._s(e.value)+" ")]),n("input",{directives:[{name:"show",rawName:"v-show",value:e.inputShowed,expression:"inputShowed"},{name:"model",rawName:"v-model",value:e.innerValue,expression:"innerValue"}],ref:"input",attrs:{type:"text",placeholder:e.placeholder},domProps:{value:e.innerValue},on:{blur:e.inputValue,keypress:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.inputValue(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.inputValue(t)}],keydown:function(e){e.stopPropagation()},dblclick:function(e){e.stopPropagation()},input:function(t){t.target.composing||(e.innerValue=t.target.value)}}}),"button"===e.triggerMode?n("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:!e.inputShowed,expression:"!inputShowed"}],staticClass:"edit-icon",attrs:{title:e.editBtnTitle,icon:["fas","pen"]},on:{click:e.handleIconBtnClick}}):e._e()],1)},Qi=[],ea=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){var e;return Object(d["a"])(this,n),e=t.apply(this,arguments),e.innerValue="",e.inputShowed=!1,e}return Object(u["a"])(n,[{key:"startInput",value:function(){var e=this;this.inputShowed=!0,this.$nextTick((function(){e.innerValue=e.value,e.$refs.input.focus()}))}},{key:"handleIconBtnClick",value:function(){this.startInput()}},{key:"handleDbclick",value:function(){"dbclick"===this.triggerMode&&this.startInput()}},{key:"inputValue",value:function(){this.inputShowed=!1,this.$emit("input",this.innerValue||this.defaultText),this.$el.scrollTo(0,0)}}]),n}(g["g"]);Object(h["a"])([Object(g["d"])({type:String,required:!0})],ea.prototype,"value",void 0),Object(h["a"])([Object(g["d"])({type:String,required:!1,default:""})],ea.prototype,"editBtnTitle",void 0),Object(h["a"])([Object(g["d"])({type:String,required:!1,default:""})],ea.prototype,"defaultText",void 0),Object(h["a"])([Object(g["d"])({type:String,required:!1,default:"button"})],ea.prototype,"triggerMode",void 0),Object(h["a"])([Object(g["d"])({type:String,required:!1,default:""})],ea.prototype,"placeholder",void 0),ea=Object(h["a"])([Object(g["a"])({components:{FontAwesomeIcon:D["a"]}})],ea);var ta=ea,na=ta,ia=(n("2957"),Object(U["a"])(na,Zi,Qi,!1,null,"c6146548",null)),aa=ia.exports,oa=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){var e;return Object(d["a"])(this,n),e=t.apply(this,arguments),e.expanded=!1,e}return Object(u["a"])(n,[{key:"fileHandler",get:function(){return this.hierarchy.fileHandler}},{key:"widgetDefinition",get:function(){return this.appEditor.getWidgetDefinitionBytag(this.widgetConfig._widgetTag)}},{key:"children",get:function(){return this.widgetConfig.children},set:function(e){this.widgetConfig.children=e}},{key:"hasChildren",get:function(){return this.children.length>0}},{key:"isSelected",get:function(){var e;return null===(e=this.fileHandler)||void 0===e?void 0:e.isSelectedWidgetConfigId(this.widgetConfig.id)}},{key:"isSelectedAncestor",get:function(){var e;return null===(e=this.fileHandler)||void 0===e?void 0:e.isSelectedAncestorId(this.widgetConfig.id)}},{key:"handleClick",value:function(e){var t;null===(t=this.fileHandler)||void 0===t||t.selectWidgetConfig(this.widgetConfig.id,e.ctrlKey)}},{key:"handleChange",value:function(e){var t,n,i=e.added;if(i){var a=this.widgetConfig,o=i.element,r=o.getAbsolutePosition(),s=r.x,c=r.y,l=a.getAbsolutePosition(),d=l.x,u=l.y;o.base.x=s-d,o.base.y=c-u,o.parentWidget=a}null!==(t=this.widgetDefinition)&&void 0!==t&&t.isWidgetGroup&&0===this.children.length&&(null===(n=this.hierarchy.fileHandler)||void 0===n||n.deleteWidgetConfigById(this.widgetConfig.id))}}]),n}(g["g"]);Object(h["a"])([Object(g["b"])("app-editor")],oa.prototype,"appEditor",void 0),Object(h["a"])([Object(g["b"])("hierarchy")],oa.prototype,"hierarchy",void 0),Object(h["a"])([Object(g["d"])()],oa.prototype,"widgetConfig",void 0),Object(h["a"])([Object(g["d"])({default:0})],oa.prototype,"level",void 0),oa=Object(h["a"])([Object(g["a"])({components:{FontAwesomeIcon:D["a"],TxtEditor:aa,"vue-drag":ii.a}})],oa);var ra,sa=oa,ca=sa,la=(n("96f8"),Object(U["a"])(ca,Ui,Ki,!1,null,"f42e57e0",null)),da=la.exports,ua=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){var e;return Object(d["a"])(this,n),e=t.apply(this,arguments),e.filterName="",e}return Object(u["a"])(n,[{key:"hierarchy",get:function(){return this}},{key:"fileEditableObject",get:function(){var e=this.appEditor.currentEditableObject;return e instanceof Et?e:null}},{key:"file",get:function(){var e;return null===(e=this.fileEditableObject)||void 0===e?void 0:e.file}},{key:"fileHandler",get:function(){var e;return null===(e=this.fileEditableObject)||void 0===e?void 0:e.fileHandler}},{key:"pageConfig",get:function(){var e;return null===(e=this.fileHandler)||void 0===e?void 0:e.pageConfig}},{key:"widgetConfigs",get:function(){var e;return null===(e=this.pageConfig)||void 0===e?void 0:e.widgetConfigs},set:function(e){this.pageConfig&&e&&(this.pageConfig.widgetConfigs=e)}},{key:"singleSelectedWidgetConfig",get:function(){var e;return null===(e=this.fileHandler)||void 0===e?void 0:e.singleSelectedWidgetConfig}},{key:"handleChange",value:function(e){var t=e.added;if(t){var n=t.element,i=n.getAbsolutePosition(),a=i.x,o=i.y;n.base.x=a,n.base.y=o,n.parentWidget=null}}}]),n}(g["g"]);Object(h["a"])([Object(g["b"])("app-editor")],ua.prototype,"appEditor",void 0),Object(h["a"])([Object(g["e"])("hierarchy")],ua.prototype,"hierarchy",null),ua=Object(h["a"])([Object(g["a"])({components:(ra={},Object(en["a"])(ra,Xi.a.name,Xi.a),Object(en["a"])(ra,"WidgetConfigNode",da),Object(en["a"])(ra,"vue-drag",ii.a),ra)})],ua);var fa=ua,pa=fa,ha=(n("caba"),Object(U["a"])(pa,Yi,qi,!1,null,"25de7754",null)),ga=ha.exports,ba=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"PropertiesConfig"},[e.selectWidgetConfig?n("div",[n("WidgetProperties",{attrs:{widgetConfig:e.selectWidgetConfig}})],1):e.pageConfig?n("div",[n("div",[n("span",[e._v("width")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.pageConfig.width,expression:"pageConfig.width"}],attrs:{type:"number"},domProps:{value:e.pageConfig.width},on:{input:function(t){t.target.composing||e.$set(e.pageConfig,"width",t.target.value)}}})]),n("div",[n("span",[e._v("height")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.pageConfig.height,expression:"pageConfig.height"}],attrs:{type:"number"},domProps:{value:e.pageConfig.height},on:{input:function(t){t.target.composing||e.$set(e.pageConfig,"height",t.target.value)}}})]),n("div",[n("span",[e._v("bgColor")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.pageConfig.bgColor,expression:"pageConfig.bgColor"}],attrs:{type:"color"},domProps:{value:e.pageConfig.bgColor},on:{input:function(t){t.target.composing||e.$set(e.pageConfig,"bgColor",t.target.value)}}})])]):e._e()])},va=[],ya=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"WidgetProperties"},[n("div",{staticClass:"base-properties"},[n("PropertyItem",{attrs:{object:e.widgetConfig,label:"ID",prop:"id",type:"text"}}),n("PropertyItem",{attrs:{object:e.widgetConfig,label:"ID",prop:"name",type:"string"}}),e.autoSize?[n("PropertyItem",{attrs:{object:e.widgetConfig._runtime,label:"宽度",prop:"w",type:"number",min:0,step:1,disabled:""}}),n("PropertyItem",{attrs:{object:e.widgetConfig._runtime,label:"高度",prop:"h",type:"number",min:0,step:1,disabled:""}})]:[n("PropertyItem",{attrs:{object:e.widgetConfig.base,label:"宽度",prop:"w",type:"number",min:0,step:1}}),n("PropertyItem",{attrs:{object:e.widgetConfig.base,label:"高度",prop:"h",type:"number",min:0,step:1}})],n("PropertyItem",{attrs:{object:e.widgetConfig.base,label:"X 坐标",prop:"x",type:"number",step:1}}),n("PropertyItem",{attrs:{object:e.widgetConfig.base,label:"Y 坐标",prop:"y",type:"number",step:1}}),n("PropertyItem",{attrs:{object:e.widgetConfig.base,label:"锚点",prop:"anchor",type:"anchor",step:1}})],2),e._l(e.propsGroups,(function(e){return n("WidgetPropertiesGroup",{key:e.name,attrs:{propsGroup:e}})}))],2)},ma=[],ja=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(e.componentName,e._b({tag:"component",staticClass:"PropertyItem",nativeOn:{keydown:function(e){e.stopPropagation()}}},"component",Object.assign({},e.$props,e.$attrs),!1))},Oa=[],Ca=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"NumberPropertyItem"},[n("span",{staticClass:"label"},[e._v(e._s(e.label))]),n("span",{staticClass:"input-group"},[n("el-input-number",{staticClass:"el-input-number",attrs:{size:"mini",min:e.min,max:e.max,step:e.step,disabled:e.disabled,"controls-position":"right"},nativeOn:{keydown:function(e){e.stopPropagation()}},model:{value:e.object[e.prop],callback:function(t){e.$set(e.object,e.prop,t)},expression:"object[prop]"}})],1)])},wa=[],ka=(n("9d4c"),n("e450")),xa=n.n(ka),Ea=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){return Object(d["a"])(this,n),t.apply(this,arguments)}return n}(g["g"]);Object(h["a"])([Object(g["d"])({type:String})],Ea.prototype,"label",void 0),Object(h["a"])([Object(g["d"])({type:Object,required:!0})],Ea.prototype,"object",void 0),Object(h["a"])([Object(g["d"])({type:[String,Number]})],Ea.prototype,"prop",void 0),Object(h["a"])([Object(g["d"])({type:Number,default:-1/0})],Ea.prototype,"min",void 0),Object(h["a"])([Object(g["d"])({type:Number,default:1/0})],Ea.prototype,"max",void 0),Object(h["a"])([Object(g["d"])({type:Number,default:1})],Ea.prototype,"step",void 0),Object(h["a"])([Object(g["d"])({type:Boolean,default:!1})],Ea.prototype,"disabled",void 0),Ea=Object(h["a"])([Object(g["a"])({components:Object(en["a"])({},xa.a.name,xa.a)})],Ea);var _a=Ea,Ia=_a,Sa=(n("7d5e"),Object(U["a"])(Ia,Ca,wa,!1,null,"95d99cd0",null)),Na=Sa.exports,Wa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"StringPropertyItem"},[n("span",{staticClass:"label"},[e._v(e._s(e.label))]),n("span",{staticClass:"input-group"},[n("el-input",{attrs:{size:"mini",type:e.type,spellcheck:"false"},nativeOn:{keydown:function(e){e.stopPropagation()}},model:{value:e.object[e.prop],callback:function(t){e.$set(e.object,e.prop,t)},expression:"object[prop]"}})],1)])},Ta=[],Da=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){return Object(d["a"])(this,n),t.apply(this,arguments)}return n}(g["g"]);Object(h["a"])([Object(g["d"])({type:String})],Da.prototype,"label",void 0),Object(h["a"])([Object(g["d"])({type:Object,required:!0})],Da.prototype,"object",void 0),Object(h["a"])([Object(g["d"])({type:[String,Number],required:!1})],Da.prototype,"prop",void 0),Object(h["a"])([Object(g["d"])({type:String,required:!0})],Da.prototype,"type",void 0),Da=Object(h["a"])([Object(g["a"])({components:Object(en["a"])({},Xi.a.name,Xi.a)})],Da);var Pa=Da,La=Pa,Aa=Object(U["a"])(La,Wa,Ta,!1,null,null,null),Ma=Aa.exports,$a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"TextPropertyItem"},[n("span",{staticClass:"label"},[e._v(e._s(e.label))]),n("span",{staticClass:"input-group"},[e._v(e._s(e.object[e.prop]||""))])])},Ra=[],za=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){return Object(d["a"])(this,n),t.apply(this,arguments)}return n}(g["g"]);Object(h["a"])([Object(g["d"])({type:String})],za.prototype,"label",void 0),Object(h["a"])([Object(g["d"])({type:Object,required:!0})],za.prototype,"object",void 0),Object(h["a"])([Object(g["d"])({type:[String,Number],required:!1})],za.prototype,"prop",void 0),Object(h["a"])([Object(g["d"])({type:String,required:!0})],za.prototype,"type",void 0),za=Object(h["a"])([Object(g["a"])({components:Object(en["a"])({},Xi.a.name,Xi.a)})],za);var Fa=za,Ga=Fa,Ja=(n("c8d1"),Object(U["a"])(Ga,$a,Ra,!1,null,"544cc737",null)),Ba=Ja.exports,Ha=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"AnchorPropertyItem"},[n("span",{staticClass:"label"},[e._v(e._s(e.label))]),n("span",{staticClass:"input-group"},[n("div",{staticClass:"anchor-border"},[n("div",{staticClass:"anchor-button left-top",class:{active:"left-top"===e.object[e.prop]},on:{click:function(t){e.object[e.prop]="left-top"}}}),n("div",{staticClass:"anchor-button center-top",class:{active:"center-top"===e.object[e.prop]},on:{click:function(t){e.object[e.prop]="center-top"}}}),n("div",{staticClass:"anchor-button right-top",class:{active:"right-top"===e.object[e.prop]},on:{click:function(t){e.object[e.prop]="right-top"}}}),n("div",{staticClass:"anchor-button left-center",class:{active:"left-center"===e.object[e.prop]},on:{click:function(t){e.object[e.prop]="left-center"}}}),n("div",{staticClass:"anchor-button center",class:{active:"center"===e.object[e.prop]},on:{click:function(t){e.object[e.prop]="center"}}}),n("div",{staticClass:"anchor-button right-center",class:{active:"right-center"===e.object[e.prop]},on:{click:function(t){e.object[e.prop]="right-center"}}}),n("div",{staticClass:"anchor-button left-bottom",class:{active:"left-bottom"===e.object[e.prop]},on:{click:function(t){e.object[e.prop]="left-bottom"}}}),n("div",{staticClass:"anchor-button center-bottom",class:{active:"center-bottom"===e.object[e.prop]},on:{click:function(t){e.object[e.prop]="center-bottom"}}}),n("div",{staticClass:"anchor-button right-bottom",class:{active:"right-bottom"===e.object[e.prop]},on:{click:function(t){e.object[e.prop]="right-bottom"}}})])])])},Ya=[],qa=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){return Object(d["a"])(this,n),t.apply(this,arguments)}return n}(g["g"]);Object(h["a"])([Object(g["d"])({type:String})],qa.prototype,"label",void 0),Object(h["a"])([Object(g["d"])({type:Object,required:!0})],qa.prototype,"object",void 0),Object(h["a"])([Object(g["d"])({type:[String,Number]})],qa.prototype,"prop",void 0),qa=Object(h["a"])([Object(g["a"])({components:Object(en["a"])({},xa.a.name,xa.a)})],qa);var Va=qa,Xa=Va,Ua=(n("e2d4"),Object(U["a"])(Xa,Ha,Ya,!1,null,"55006f37",null)),Ka=Ua.exports,Za=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){return Object(d["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"componentName",get:function(){var e=this.type+"PropertyItem";return e=e.charAt(0).toUpperCase()+e.slice(1),e}}]),n}(g["g"]);Object(h["a"])([Object(g["d"])({type:String})],Za.prototype,"label",void 0),Object(h["a"])([Object(g["d"])({type:Object,required:!0})],Za.prototype,"object",void 0),Object(h["a"])([Object(g["d"])({type:[String,Number],required:!1})],Za.prototype,"prop",void 0),Object(h["a"])([Object(g["d"])({type:String,required:!0})],Za.prototype,"type",void 0),Object(h["a"])([Object(g["d"])({type:Boolean,default:!1})],Za.prototype,"disabled",void 0),Za=Object(h["a"])([Object(g["a"])({components:{NumberPropertyItem:Na,StringPropertyItem:Ma,TextPropertyItem:Ba,AnchorPropertyItem:Ka}})],Za);var Qa=Za,eo=Qa,to=(n("9508"),Object(U["a"])(eo,ja,Oa,!1,null,"0074290a",null)),no=to.exports,io=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"WidgetPropertiesGroup"},[n("div",{staticClass:"label"},[n("span",[e._v(e._s(e.propsGroup.name))])]),n("div",[e._v(" "+e._s(e.propsGroup)+" ")])])},ao=[],oo=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){return Object(d["a"])(this,n),t.apply(this,arguments)}return n}(g["g"]);Object(h["a"])([Object(g["d"])()],oo.prototype,"propsGroup",void 0),oo=Object(h["a"])([g["a"]],oo);var ro=oo,so=ro,co=(n("ffa6"),Object(U["a"])(so,io,ao,!1,null,"00dae06f",null)),lo=co.exports,uo=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){return Object(d["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"widgetDefinition",get:function(){return this.appEditor.getWidgetDefinitionBytag(this.widgetConfig._widgetTag)}},{key:"propsGroups",get:function(){var e;return null===(e=this.widgetDefinition)||void 0===e?void 0:e.propsGroups}},{key:"autoSize",get:function(){var e;return(null===(e=this.widgetDefinition)||void 0===e?void 0:e.autoSize)||!1}}]),n}(g["g"]);Object(h["a"])([Object(g["b"])("app-editor")],uo.prototype,"appEditor",void 0),Object(h["a"])([Object(g["d"])({type:Object,required:!0})],uo.prototype,"widgetConfig",void 0),uo=Object(h["a"])([Object(g["a"])({components:{PropertyItem:no,WidgetPropertiesGroup:lo}})],uo);var fo=uo,po=fo,ho=(n("18a2"),Object(U["a"])(po,ya,ma,!1,null,"0ced0135",null)),go=ho.exports,bo=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){return Object(d["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"fileEditableObject",get:function(){var e=this.appEditor.currentEditableObject;return e instanceof Et?e:null}},{key:"file",get:function(){var e;return null===(e=this.fileEditableObject)||void 0===e?void 0:e.file}},{key:"fileHandler",get:function(){var e;return null===(e=this.fileEditableObject)||void 0===e?void 0:e.fileHandler}},{key:"pageConfig",get:function(){var e;return null===(e=this.fileHandler)||void 0===e?void 0:e.pageConfig}},{key:"selectWidgetConfig",get:function(){var e;return null===(e=this.fileHandler)||void 0===e?void 0:e.singleSelectedWidgetConfig}}]),n}(g["g"]);Object(h["a"])([Object(g["b"])("app-editor")],bo.prototype,"appEditor",void 0),bo=Object(h["a"])([Object(g["a"])({components:{WidgetProperties:go}})],bo);var vo,yo=bo,mo=yo,jo=(n("21e4"),Object(U["a"])(mo,ba,va,!1,null,"8b7e8d52",null)),Oo=jo.exports,Co=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"WidgetDefinitions"},[n("div",{staticClass:"filter"},[n("el-input",{attrs:{placeholder:"请输入组件名称",size:"mini"}})],1),n("el-collapse",e._l(e.widgetDefinitionGroups,(function(t){return n("el-collapse-item",{key:t.name,attrs:{name:t.name,title:t.displayName}},[n("div",{staticClass:"widget-definitions"},e._l(t.widgetDefinitions,(function(t){return n("div",{key:t.tag,staticClass:"widget-definition",attrs:{draggable:"true"},on:{dragstart:function(n){return e.handleWidgetDragStart(t,n)},click:function(n){return e.handleWidgetClick(t)}}},[n("span",{staticClass:"widget-icon"},[n("font-awesome-icon",{attrs:{icon:["fas","font"]}})],1),n("span",{staticClass:"widget-name"},[e._v(e._s(t.displayName))])])})),0)])})),1)],1)},wo=[],ko=(n("b0ee"),n("d180")),xo=n.n(ko),Eo=(n("a335"),n("c0bb")),_o=n.n(Eo),Io=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){return Object(d["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"fileEditableObject",get:function(){var e=this.appEditor.currentEditableObject;return e instanceof Et?e:null}},{key:"file",get:function(){var e;return null===(e=this.fileEditableObject)||void 0===e?void 0:e.file}},{key:"fileHandler",get:function(){var e;return null===(e=this.fileEditableObject)||void 0===e?void 0:e.fileHandler}},{key:"widgetDefinitionGroups",get:function(){var e=[],t=new Map,n={name:"ungrouped",displayName:"未分组",widgetDefinitions:[]};this.appEditor.widgetDefinitionGroups.forEach((function(n){var i={name:n.name,displayName:n.displayName,widgetDefinitions:[]};e.push(i),t.set(n.name,i)})),e.push(n);var i,a=this.appEditor.widgetDefinitions,o=Object(m["a"])(a);try{for(o.s();!(i=o.n()).done;){var r=i.value;if(!r.isSystem){var s=t.get(r.group)||n;s.widgetDefinitions.push(r)}}}catch(c){o.e(c)}finally{o.f()}return e}},{key:"handleWidgetClick",value:function(e){var t;null===(t=this.fileHandler)||void 0===t||t.addWidget(e)}},{key:"handleWidgetDragStart",value:function(e,t){t.dataTransfer&&t.dataTransfer.setData("widgetDefinitionTag",e.tag)}}]),n}(g["g"]);Object(h["a"])([Object(g["b"])("app-editor")],Io.prototype,"appEditor",void 0),Io=Object(h["a"])([Object(g["a"])({components:(vo={},Object(en["a"])(vo,Xi.a.name,Xi.a),Object(en["a"])(vo,_o.a.name,_o.a),Object(en["a"])(vo,xo.a.name,xo.a),Object(en["a"])(vo,"FontAwesomeIcon",D["a"]),vo)})],Io);var So=Io,No=So,Wo=(n("e2d6"),Object(U["a"])(No,Co,wo,!1,null,"06725290",null)),To=Wo.exports,Do=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.contextmenu.opened,expression:"contextmenu.opened"}],staticClass:"ApplicationEditorMenu",on:{click:e.closeContextmenu,contextmenu:e.closeContextmenu}},[n("div",{staticClass:"contextmenu",style:{top:e.contextmenu.y+"px",left:e.contextmenu.x+"px"},on:{click:function(e){e.stopPropagation()}}},[e._l(e.contextmenu.meunItems,(function(t,i){return["split-line"===t.name?n("div",{key:i,staticClass:"meun-split-line"}):t.disable?n("div",{key:i,staticClass:"meun-item-disable"},[e._v(e._s(t.name))]):n("div",{key:i,staticClass:"meun-item",class:{"split-line":"split-line"===t.name},on:{click:function(){t.handler&&t.handler(e.contextmenu.event),e.closeContextmenu()}}},[e._v(e._s(t.name))])]}))],2)])},Po=[],Lo=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){var e;return Object(d["a"])(this,n),e=t.apply(this,arguments),e.contextmenu={opened:!1,x:0,y:0,event:null,meunItems:[]},e}return Object(u["a"])(n,[{key:"openContextmenu",value:function(e,t){var n=this.contextmenu,i=document.body.clientHeight,a=document.body.clientWidth,o=a-350,r=i-32*t.length;n.opened=!0,n.x=Math.min(e.clientX,o),n.y=Math.min(e.clientY,r),n.event=e,n.meunItems=t}},{key:"closeContextmenu",value:function(){var e=this.contextmenu;e.opened=!1,e.x=0,e.y=0,e.meunItems=[]}}]),n}(g["g"]);Lo=Object(h["a"])([g["a"]],Lo);var Ao=Lo,Mo=Ao,$o=(n("fe5c"),Object(U["a"])(Mo,Do,Po,!1,null,"3c3a4064",null)),Ro=$o.exports,zo=n("a002"),Fo=n.n(zo),Go=n("84a2"),Jo=n.n(Go),Bo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"BaseText"},[e._v("BaseText: "+e._s(e.widgetConfig.name))])},Ho=[],Yo=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){return Object(d["a"])(this,n),t.apply(this,arguments)}return n}(g["g"]);Object(h["a"])([Object(g["d"])()],Yo.prototype,"widgetConfig",void 0),Yo=Object(h["a"])([g["a"]],Yo);var qo=Yo,Vo=qo,Xo=(n("c32c"),Object(U["a"])(Vo,Bo,Ho,!1,null,"77efe476",null)),Uo=Xo.exports,Ko=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"WidgetGroup"},e._l(e.childrenReverse,(function(t){return n("WidgetWrapper",{key:t.id,ref:t.id,refInFor:!0,attrs:{widgetConfig:t,getComponent:e.getComponent}})})),1)},Zo=[],Qo=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){return Object(d["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"childrenReverse",get:function(){var e=this.widgetConfig.children,t=[];if(e)for(var n=e.length-1;n>=0;n--)t.push(e[n]);return t}}]),n}(g["g"]);Object(h["a"])([Object(g["d"])()],Qo.prototype,"widgetConfig",void 0),Object(h["a"])([Object(g["d"])()],Qo.prototype,"getComponent",void 0),Qo=Object(h["a"])([Object(g["a"])({components:{WidgetWrapper:function(){return Promise.resolve().then(n.bind(null,"d61c"))}}})],Qo);var er=Qo,tr=er,nr=(n("8dfc"),Object(U["a"])(tr,Ko,Zo,!1,null,"3b1c9668",null)),ir=nr.exports,ar=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"SimpleText"},[e._v("SimpleText: "+e._s(e.widgetConfig.name))])},or=[],rr=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){return Object(d["a"])(this,n),t.apply(this,arguments)}return n}(g["g"]);Object(h["a"])([Object(g["d"])()],rr.prototype,"widgetConfig",void 0),rr=Object(h["a"])([g["a"]],rr);var sr=rr,cr=sr,lr=(n("d210"),Object(U["a"])(cr,ar,or,!1,null,"2f095af0",null)),dr=lr.exports,ur={tag:"SimpleText",displayName:"简单文本",component:dr,isBuildin:!0,autoSize:!0,propsGroups:[{type:"group",name:"文本 · 样式",propsSchemas:[{type:"string",name:"默认内容",prop:"text",value:"默认文本"}]}]},fr=ur,pr=[{tag:"DefaultWidget",displayName:"默认组件",component:E["a"],isBuildin:!0,isSystem:!0},{tag:"WidgetGroup",displayName:"组",component:ir,isWidgetGroup:!0,autoSize:!0,isBuildin:!0,isSystem:!0},{tag:"BaseText",displayName:"文本",autoSize:!1,component:Uo},fr],hr=pr,gr=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){var e;return Object(d["a"])(this,n),e=t.apply(this,arguments),e.project=new Y,e.currentEditableObject=null,e.layoutRootNode=x,e.saveChange=Jo()((function(t){e.project&&Fo.a.setItem("mani-project",t)}),100),e}return Object(u["a"])(n,[{key:"appEditor",get:function(){return this}},{key:"projectFiles",get:function(){var e=[],t=function t(n){if(n){var i,a=Object(m["a"])(n.directorys);try{for(a.s();!(i=a.n()).done;){var o=i.value;t(o)}}catch(l){a.e(l)}finally{a.f()}var r,s=Object(m["a"])(n.files);try{for(s.s();!(r=s.n()).done;){var c=r.value;e.push(c)}}catch(l){s.e(l)}finally{s.f()}}};return this.project&&t(this.project.rootDirectory),e}},{key:"fileEditableObjectMap",get:function(){var e=this,t=new Map,n=function n(i,a,o){if(i){var r,s=Object(m["a"])(i.directorys);try{for(s.s();!(r=s.n()).done;){var c=r.value;n(c,a?a+"\\"+c.name:c.name,[].concat(Object(y["a"])(o),[i]))}}catch(f){s.e(f)}finally{s.f()}var l,d=Object(m["a"])(i.files);try{for(d.s();!(l=d.n()).done;){var u=l.value;t.set(u,new Et({propsData:{file:u,parentPath:a,appEditor:e,parentDirectorys:[].concat(Object(y["a"])(o),[i])}}))}}catch(f){d.e(f)}finally{d.f()}}};return this.project&&n(this.project.rootDirectory,"",[]),t}},{key:"fileEditableObjects",get:function(){var e=[];return this.fileEditableObjectMap.forEach((function(t){e.push(t)})),e}},{key:"settingEditableObject",get:function(){return new It({propsData:{appEditor:this}})}},{key:"openObjectEditor",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.objectEditorTabs.openObjectEditor(e,t,n)}},{key:"openSettingEditor",value:function(){this.openObjectEditor(this.settingEditableObject)}},{key:"openProject",value:function(e){this.project=e,Fo.a.setItem("mani-project",this.project)}},{key:"openContextmenu",value:function(e,t){this.menu.openContextmenu(e,t)}},{key:"projectChange",value:function(e){this.saveChange(e)}},{key:"handelObjectEditorTabsChange",value:function(e){this.currentEditableObject=e}},{key:"mounted",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.registerWidgetGroup("text","文本"),this.registerWidgetGroup("graph","图形"),hr.forEach((function(e){n.registerWidget(e)})),e.next=5,Fo.a.getItem("mani-project");case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0=JSON.parse('{"id":"ApplicationConfig:bce743f4-2ae3-4c2b-ba01-ee52ffe33576","name":"应用名称","pageConfigList":[{"id":"PageConfig:963b54b8-65e5-4ea1-918d-01858f2e7520","name":"页面","width":1920,"height":1080,"bgColor":"rgba(0, 0, 0, 1)","widgets":[{"id":"WidgetConfig:1ec07df1-a89e-4615-89c6-baa21f91e0c7","isGroup":false,"isCombination":false,"groupId":"","widgetDefinitionId":"FixationWidget","base":{"displayName":"自动尺寸组件","async":false,"fixation":false,"locked":false,"canInteract":false,"hidden":false,"transparent":0,"anchor":"center","cursor":"default","x":215,"y":215,"width":17,"height":60,"skewX":0,"skewY":0,"rotateX":0,"rotateY":0,"rotateZ":0,"attrGroups":{"attrGroup":{"switch":true,"fontSize":12,"combination":""}}},"children":[],"dataSource":{"id":"DataSourceConfig:d370affa-7f48-417e-8ca4-e1bc4575c1c7","name":"组件的数据源","type":"static","staticData":"{"message": "组件数据"}","functionBody":"return {"message": "组件数据"}","filterBody":"return data","interval":0}},{"id":"WidgetConfig:6f6d82d0-5461-4015-a070-53742187b81e","isGroup":false,"isCombination":false,"groupId":"","widgetDefinitionId":"TestWidget","base":{"displayName":"测试组件","async":false,"fixation":false,"locked":false,"canInteract":false,"hidden":false,"transparent":0,"anchor":"left-top","cursor":"default","x":215,"y":215,"width":300,"height":300,"skewX":0,"skewY":0,"rotateX":0,"rotateY":0,"rotateZ":0,"attrGroups":{"attrGroup":{"switch":true,"theme":"builtInTheme:0","themeCustomColors":["#c23531","#4488ff","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3","#ffffff"],"count":0,"bg-color":"#888888","title":"TestWidget"},"test":{"switch":true,"theme":"custom","themeCustomColors":["#c23531","#4488ff","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3","#ffffff"]}}},"children":[],"dataSource":{"id":"DataSourceConfig:390d850f-3d3d-4e14-9165-2ba3652a3d3d","name":"组件的数据源","type":"static","staticData":"{"message": "组件数据"}","functionBody":"return {"message": "组件数据"}","filterBody":"return data","interval":0}}],"inCarousel":false,"screenShotUrl":""}],"imageAssets":[],"combinations":[],"customWidgetDefinitions":[],"dataSources":[],"colorTheme":[{"id":"ColorTheme:f139a1b8-5ea0-436b-9c71-86ef44c07024","builtIn":false,"name":"科技蓝","colors":["rgb(133, 165, 255)","rgb(121, 151, 239)","rgb(109, 137, 224)","rgb(98, 122, 208)","rgb(86, 108, 192)","rgb(74, 94, 176)","rgb(62, 79, 161)","rgb(50, 65, 145)","rgb(39, 51, 129)","rgb(27, 37, 114)","rgb(15, 22, 98)","rgb(3, 8, 82)"]},{"id":"ColorTheme:212e3eca-ead5-4f52-a5ae-65027e23a45d","builtIn":false,"name":"酷炫绿","colors":["rgb(32, 144, 160)","rgb(29, 154, 158)","rgb(26, 164, 156)","rgb(23, 174, 154)","rgb(20, 184, 151)","rgb(18, 195, 149)","rgb(15, 205, 147)","rgb(12, 215, 145)","rgb(9, 225, 143)","rgb(6, 235, 140)","rgb(3, 245, 138)","rgb(0, 255, 136)"]},{"id":"ColorTheme:acac03d7-8669-47da-aea3-343fd107aa3e","builtIn":false,"name":"酷炫紫","colors":["rgb(179, 127, 235)","rgb(164, 116, 219)","rgb(150, 105, 203)","rgb(135, 93, 186)","rgb(121, 82, 170)","rgb(106, 71, 154)","rgb(91, 59, 137)","rgb(77, 48, 121)","rgb(62, 37, 105)","rgb(47, 26, 89)","rgb(33, 14, 72)","rgb(18, 3, 56)"]},{"id":"ColorTheme:6db461e6-b548-4a05-9518-719e16f2ce90","builtIn":false,"name":"活力橙","colors":["rgb(255, 192, 105)","rgb(241, 178, 96)","rgb(226, 164, 86)","rgb(212, 150, 76)","rgb(198, 136, 67)","rgb(183, 122, 57)","rgb(169, 108, 48)","rgb(155, 93, 38)","rgb(140, 79, 29)","rgb(126, 65, 19)","rgb(111, 51, 10)","rgb(97, 37, 0)"]}],"variables":[{"id":"6c014b4c-aca4-4730-8bf9-c35b89491fc8","name":"新变量","type":"string","code":"123"}],"interactionTriggers":[{"id":"InteractionTrigger:4b0a2d3d-adc2-4e7f-b0fb-bc1600f80c70","name":"触发器1","triggerId":"WidgetConfig:8db066ba-b6de-4ed0-810f-b8ef8f4af787","eventType":"click","actions":[{"id":"InteractionAction:fc0271a6-d782-4411-95fe-42828ae18bdd","triggerId":"director","actionType":"doSetVariable","parameters":["新变量","456"]},{"id":"InteractionAction:2134cb00-1781-4b8d-9dae-c375e3f0bdaa","triggerId":"director","actionType":"doLoopAction","parameters":[1,10,[{"id":"InteractionAction:8ec2cf26-27d7-4a50-b945-04c77ba47abe","executorId":"WidgetConfig:8db066ba-b6de-4ed0-810f-b8ef8f4af787","actionType":"doMove","parameters":[0,0,1000,0]},{"id":"InteractionAction:0dd396d8-a6a7-4cfc-97f6-f29e166805c8","executorId":"director","actionType":"doWait","parameters":[1]},{"id":"InteractionAction:0e6000cd-d39d-4956-b8ce-385159e719b3","executorId":"WidgetConfig:8db066ba-b6de-4ed0-810f-b8ef8f4af787","actionType":"doMove","parameters":[300,300,1000,0]}]]}]}],"userScript":[]}');case 8:t=e.t0,t&&(this.project=(new k).deserializeObject(t,Y));case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(Object(g["c"])(S));Object(h["a"])([Object(g["f"])()],gr.prototype,"objectEditorTabs",void 0),Object(h["a"])([Object(g["f"])()],gr.prototype,"menu",void 0),Object(h["a"])([Object(g["e"])("app-editor")],gr.prototype,"appEditor",null),Object(h["a"])([Object(g["h"])("project",{deep:!0})],gr.prototype,"projectChange",null),gr=Object(h["a"])([Object(g["a"])({name:"ApplicationEditor",components:{ApplicationEditorHeader:Z,DragLayoutContext:ot,ObjectEditorTabs:ci,Properties:Oo,WidgetDefinition:To,Hierarchy:ga,FileExplorer:Hi,ApplicationEditorMenu:Ro}})],gr);var br=gr,vr=br,yr=(n("9942"),n("4d9b"),Object(U["a"])(vr,b,v,!1,null,"464c8d2b",null)),mr=yr.exports,jr=n("21a6"),Or=function(e){Object(f["a"])(n,e);var t=Object(p["a"])(n);function n(){return Object(d["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"handleBtnClick",value:function(){var e=new L.a;e.file("Hello.txt","Hello World\n"),e.generateAsync({type:"blob"}).then((function(e){Fo.a.setItem("example.zip",e),Object(jr["saveAs"])(e,"example.zip")}))}},{key:"handleBtnClick2",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t,n,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=new L.a,e.next=3,Fo.a.getItem("example.zip");case 3:return n=e.sent,i=new File([n],"example.zip"),e.next=7,t.loadAsync(i);case 7:a=e.sent,console.log(a);case 9:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(g["g"]);Object(h["a"])([Object(g["f"])()],Or.prototype,"app",void 0),Or=Object(h["a"])([Object(g["a"])({components:{ApplicationEditor:mr}})],Or);var Cr=Or,wr=Cr,kr=(n("5c0b"),Object(U["a"])(wr,s,c,!1,null,null,null)),xr=kr.exports,Er=n("ecee"),_r=n("c074"),Ir=n("b702"),Sr=n("f2d1");Er["c"].add(_r["k"]),Er["c"].add(_r["m"]),Er["c"].add(Ir["a"]),Er["c"].add(_r["i"]),Er["c"].add(_r["j"]),Er["c"].add(_r["e"]),Er["c"].add(_r["d"]),Er["c"].add(_r["q"]),Er["c"].add(_r["p"]),Er["c"].add(_r["a"]),Er["c"].add(_r["n"]),Er["c"].add(Sr["a"]),Er["c"].add(_r["c"]),Er["c"].add(_r["b"]),Er["c"].add(_r["o"]),Er["c"].add(_r["g"]),Er["c"].add(_r["h"]),Er["c"].add(_r["l"]),Er["c"].add(Ir["c"]),Er["c"].add(Ir["b"]),Er["c"].add(_r["f"]),r["default"].config.productionTip=!1,new r["default"]({render:function(e){return e(xr)}}).$mount("#app")},ce66:function(e,t,n){"use strict";n("5855")},d210:function(e,t,n){"use strict";n("8047")},d30e:function(e,t,n){"use strict";n("a1d3")},d33f:function(e,t,n){},d61c:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"WidgetWrapper",style:e.style},[n(e.component,{ref:"componentInstance",tag:"component",attrs:{widgetConfig:e.widgetConfig,getComponent:e.getComponent}})],1)},a=[],o=n("1da1"),r=n("d4ec"),s=n("bee2"),c=n("262e"),l=n("2caf"),d=(n("96cf"),n("18a5"),n("9ab4")),u=n("1b40"),f=n("406e"),p=n("b5d2"),h=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(r["a"])(this,n),e=t.apply(this,arguments),e.clientWidth=-1,e.clientHeight=-1,e}return Object(s["a"])(n,[{key:"widgetDefinition",get:function(){return this.appEditor.getWidgetDefinitionBytag(this.widgetConfig._widgetTag)}},{key:"autoSize",get:function(){var e;return(null===(e=this.widgetDefinition)||void 0===e?void 0:e.autoSize)||!1}},{key:"style",get:function(){var e=this.autoSize,t=this.widgetConfig,n=this.widgetConfig.base,i=Math.round(e?t._runtime.w:t.base.w),a=Math.round(e?t._runtime.h:t.base.h),o=Math.round(t.base.x),r=Math.round(t.base.y),s={width:e?"auto":i+"px",height:e?"auto":a+"px",left:o+"px",top:r+"px",marginLeft:"",marginTop:""};return"right-top"===n.anchor&&(s.marginLeft="-".concat(i,"px")),"center"===n.anchor&&(s.marginLeft="-".concat(i/2,"px"),s.marginTop="-".concat(a/2,"px")),"left-bottom"===n.anchor&&(s.marginTop="-".concat(a,"px")),"right-bottom"===n.anchor&&(s.marginLeft="-".concat(i,"px"),s.marginTop="-".concat(a,"px")),"center-top"===n.anchor&&(s.marginLeft="-".concat(i/2,"px")),"center-bottom"===n.anchor&&(s.marginLeft="-".concat(i/2,"px"),s.marginTop="-".concat(a,"px")),"left-center"===n.anchor&&(s.marginTop="-".concat(a/2,"px")),"right-center"===n.anchor&&(s.marginLeft="-".concat(i,"px"),s.marginTop="-".concat(a/2,"px")),s}},{key:"component",get:function(){return this.widgetConfig?this.getComponent(this.widgetConfig._widgetTag):p["a"]}},{key:"resizeHandler",value:function(){var e=this.componentInstance.$el,t=e.clientWidth,n=e.clientHeight;this.clientWidth=t,this.clientHeight=n,this.widgetConfig._runtime.w=t,this.widgetConfig._runtime.h=n}},{key:"handleWidgetConfigChange",value:function(){this.widgetConfig._runtime=this._runtime}},{key:"mounted",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this._runtime=this.widgetConfig._runtime,this.resizeHandler(),Object(f["a"])(this.$el,this.resizeHandler);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"beforeDestroy",value:function(){Object(f["b"])(this.$el,this.resizeHandler)}}]),n}(u["g"]);Object(d["a"])([Object(u["b"])("app-editor")],h.prototype,"appEditor",void 0),Object(d["a"])([Object(u["d"])()],h.prototype,"widgetConfig",void 0),Object(d["a"])([Object(u["d"])()],h.prototype,"getComponent",void 0),Object(d["a"])([Object(u["f"])()],h.prototype,"componentInstance",void 0),Object(d["a"])([Object(u["h"])("widgetConfig")],h.prototype,"handleWidgetConfigChange",null),h=Object(d["a"])([u["a"]],h);var g=h,b=g,v=(n("bf5c"),n("2877")),y=Object(v["a"])(b,i,a,!1,null,"3b129926",null);t["default"]=y.exports},d739:function(e,t,n){},d80e:function(e,t,n){},d8a4:function(e,t,n){"use strict";n("e369")},d8cd:function(e,t,n){"use strict";n("ad2b")},e2d2:function(e,t,n){},e2d4:function(e,t,n){"use strict";n("c105")},e2d6:function(e,t,n){"use strict";n("14ff")},e369:function(e,t,n){},e7ae:function(e,t,n){},e8e8:function(e,t,n){},edaf:function(e,t,n){},f963:function(e,t,n){},fe5c:function(e,t,n){"use strict";n("c59e")},fedc:function(e,t,n){"use strict";n("16af")},ff31:function(e,t,n){},ffa6:function(e,t,n){"use strict";n("a1bd")}});
//# sourceMappingURL=index.e87ab65f.js.map